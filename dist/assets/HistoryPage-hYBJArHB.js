import{y as F,a as Ue,b as Oe,u as He,c as we,d as Ce,r as b,z as Te,D as Ae,F as Ie,f as q,j as e,H as ne,R as z,h,t as me,C as O,X as $,J as ce,l as ue,W as _e,M as Re,B as Le,s as f,G as qe}from"./index-sAk8NP6L.js";import{f as K}from"./phoneFormatter-B_Sap_sJ.js";import{D as de,a as Ne,M as H,b as pe,c as p}from"./dropdown-menu-CrtF30kR.js";import{D as ze,a as $e}from"./dialog-DgUIN6xo.js";import{g as ge,a as xe,b as be,c as he,d as Ke}from"./logo-service-D-UU2wJF.js";import{P as Fe}from"./phone-Dh5eSlTV.js";import"./index-C7v0xTEb.js";import"./index-Do89sa3o.js";import"./index-CSjqtnKP.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=F("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=F("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=F("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),w=(i,t)=>{const c=i.target;if(c.dataset.fallbackLoaded==="true"){c.style.display="none";const u=c.nextElementSibling;u&&(u.style.display="flex");return}if(t)c.dataset.fallbackLoaded="true",c.src=Ke(t);else{c.style.display="none";const u=c.nextElementSibling;u&&(u.style.display="flex")}};function as(){var ie;const{t:i}=Ue(),{user:t}=Oe(),{toast:c}=He(),u=we();Ce();const[C,B]=b.useState("orders"),[d,T]=b.useState(1),[N,A]=b.useState(1),S=10,[Se,y]=b.useState(!1),[D,G]=b.useState(null),[I,ye]=b.useState({}),[De,W]=b.useState(!1);Te(t==null?void 0:t.id,{onSmsReceived:s=>{c({title:"âœ… SMS ReÃ§u !",description:`Code: ${s.sms_code} pour ${s.service_code}`,duration:5e3})},onStatusChange:(s,r)=>{(s.status==="cancelled"||s.status==="timeout")&&c({title:s.status==="timeout"?"â° Expiration":"âŒ Annulation",description:`${s.phone} - CrÃ©dits remboursÃ©s`,variant:"destructive",duration:4e3})}}),Ae(t==null?void 0:t.id),Ie(t==null?void 0:t.id);const{data:Ee=[],isLoading:Ve}=q({queryKey:["activations-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:s,error:r}=await f.from("activations").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});return r?(console.error("âŒ [HISTORY] Erreur chargement orders:",r),[]):s||[]},enabled:!!(t!=null&&t.id)}),{data:Q=[],isLoading:ve}=q({queryKey:["payments-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:s,error:r}=await f.from("transactions").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});return r?(console.error("âŒ [HISTORY] Erreur chargement payments:",r),[]):s||[]},enabled:!!(t!=null&&t.id)}),{data:ke=[],isLoading:Me}=q({queryKey:["rentals-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:s,error:r}=await f.from("rentals").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});return r?(console.error("âŒ [HISTORY] Erreur chargement rentals:",r),[]):s||[]},enabled:!!(t!=null&&t.id)}),Y=[...Ee.map(s=>({id:s.id,orderId:s.order_id,phone:s.phone,serviceCode:s.service_code,countryCode:s.country_code,price:s.price,status:s.status,smsCode:s.sms_code,smsText:s.sms_text,createdAt:s.created_at,expiresAt:s.expires_at,type:"activation"})),...ke.map(s=>({id:s.id,orderId:s.rent_id,phone:s.phone,serviceCode:s.service_code,countryCode:s.country_code,price:s.total_cost||s.hourly_rate*(s.rent_hours||1),status:s.status,createdAt:s.created_at,expiresAt:s.end_date,type:"rental",messageCount:s.message_count||0,durationHours:s.rent_hours}))].sort((s,r)=>new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime()),je=Ve||Me,J=async s=>{if(!I[s]){W(!0);try{const{data:r,error:a}=await f.functions.invoke("get-rent-status",{body:{rentId:s,userId:t==null?void 0:t.id}});!a&&(r!=null&&r.success)&&ye(o=>({...o,[s]:r.messages||[]}))}catch(r){console.error("Erreur chargement messages:",r)}W(!1)}},g=s=>{navigator.clipboard.writeText(s),c({title:i("common.copied"),description:i("common.success")})},_=s=>{const a=new Date(s).getTime()-20*60*1e3,o=Date.now();return Math.floor((o-a)/1e3)},X=s=>_(s)>=300,Z=async(s,r)=>{try{const{data:a,error:o}=await f.functions.invoke("cancel-sms-activate-order",{body:{orderId:parseInt(r)}});if(o||!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||(o==null?void 0:o.message)||"5sim cancellation failed");const{error:m}=await f.from("activations").update({status:"cancelled",charged:!1}).eq("id",s);if(m)throw console.error("âŒ [CANCEL] Supabase update error:",m),m;await u.invalidateQueries({queryKey:["orders-history"]}),await u.invalidateQueries({queryKey:["active-numbers"]}),c({title:"Activation annulÃ©e",description:"Le numÃ©ro a Ã©tÃ© annulÃ© avec succÃ¨s"})}catch(a){console.error("âŒ [CANCEL] Error:",a),c({title:"Erreur",description:(a==null?void 0:a.message)||"Impossible d'annuler l'activation",variant:"destructive"})}},ee=async s=>{try{const{data:r,error:a}=await f.functions.invoke("check-sms-activate-status",{body:{activationId:s,userId:t==null?void 0:t.id}});if(a)throw a;c({title:"Statut vÃ©rifiÃ©",description:r!=null&&r.smsCode?"SMS reÃ§u !":"Toujours en attente..."}),await u.invalidateQueries({queryKey:["activations-history",t==null?void 0:t.id]}),await u.invalidateQueries({queryKey:["orders-history",t==null?void 0:t.id]})}catch(r){c({title:"Erreur",description:(r==null?void 0:r.message)||"Impossible de vÃ©rifier le statut",variant:"destructive"})}},se=s=>{if(s<=0)return"0 min";const r=Math.floor(s/60),a=s%60;return`${r}:${a.toString().padStart(2,"0")}`},re=s=>{const r=new Date(s).getTime(),a=Date.now();return Math.max(0,Math.floor((r-a)/1e3))},Pe=s=>{if(s.type==="rental"){const a=new Date,o=new Date(s.expiresAt);return s.status==="active"&&a>o?"expired":s.status}return["received","timeout","cancelled","refunded","expired"].includes(s.status)?s.status:re(s.expiresAt)<=0&&(s.status==="waiting"||s.status==="pending")?"timeout":s.status==="pending"?"waiting":s.status},R=s=>({wa:"WhatsApp",tg:"Telegram",vi:"Viber",wb:"WeChat",ln:"Line",kk:"KakaoTalk",sg:"Signal",sk:"Skype",ig:"Instagram",fb:"Facebook",tw:"Twitter",lf:"TikTok",fu:"Snapchat",vk:"VKontakte",ds:"Discord",tn:"LinkedIn",ok:"Odnoklassniki",bnl:"Reddit",go:"Google",mm:"Microsoft",wx:"Apple",dr:"OpenAI",mb:"Yahoo",pm:"AOL",zm:"Zoom",sl:"Slack",ts:"PayPal",aon:"Binance",re:"Coinbase",ij:"Revolut",bo:"Wise",ti:"Crypto.com",nc:"Payoneer",am:"Amazon",hx:"AliExpress",ka:"Shopee",aez:"Shein",ep:"Temu",dl:"Lazada",xt:"Flipkart",nf:"Netflix",alj:"Spotify",hb:"Twitch",oi:"Tinder",gr:"Grindr",mo:"Bumble",qv:"Badoo",vz:"Hinge",df:"Happn",ub:"Uber",jg:"Grab",ac:"DoorDash",aq:"Glovo",nz:"Foodpanda",rr:"Wolt",mt:"Steam",aiw:"Roblox",blm:"Epic Games",bz:"Blizzard",ah:"Tarkov",instagram:"Instagram",whatsapp:"WhatsApp",google:"Google",facebook:"Facebook",telegram:"Telegram",twitter:"Twitter",tiktok:"TikTok",snapchat:"Snapchat",discord:"Discord",amazon:"Amazon",netflix:"Netflix",paypal:"PayPal",uber:"Uber",tinder:"Tinder",bumble:"Bumble",badoo:"Badoo",microsoft:"Microsoft",apple:"Apple",steam:"Steam",spotify:"Spotify",linkedin:"LinkedIn",yahoo:"Yahoo",binance:"Binance",coinbase:"Coinbase",viber:"Viber",wechat:"WeChat",line:"Line",signal:"Signal",openai:"OpenAI",full:"Full Rent"})[s.toLowerCase()]||s.toUpperCase(),L=s=>{const r={us:"Ã‰tats-Unis",gb:"Royaume-Uni",uk:"Royaume-Uni",fr:"France",de:"Allemagne",es:"Espagne",it:"Italie",pt:"Portugal",nl:"Pays-Bas",be:"Belgique",ch:"Suisse",at:"Autriche",pl:"Pologne",ru:"Russie",ua:"Ukraine",kz:"Kazakhstan",cn:"Chine",jp:"Japon",kr:"CorÃ©e du Sud",in:"Inde",id:"IndonÃ©sie",ph:"Philippines",vn:"Vietnam",th:"ThaÃ¯lande",my:"Malaisie",sg:"Singapour",hk:"Hong Kong",tw:"TaÃ¯wan",au:"Australie",nz:"Nouvelle-ZÃ©lande",ca:"Canada",mx:"Mexique",br:"BrÃ©sil",ar:"Argentine",co:"Colombie",cl:"Chili",pe:"PÃ©rou",ma:"Maroc",dz:"AlgÃ©rie",tn:"Tunisie",eg:"Ã‰gypte",ng:"Nigeria",ke:"Kenya",za:"Afrique du Sud",gh:"Ghana",sn:"SÃ©nÃ©gal",ci:"CÃ´te d'Ivoire",cm:"Cameroun",ae:"Ã‰mirats Arabes Unis",sa:"Arabie Saoudite",tr:"Turquie",il:"IsraÃ«l",pk:"Pakistan",bd:"Bangladesh",mm:"Myanmar",np:"NÃ©pal",lk:"Sri Lanka",kh:"Cambodge",la:"Laos",ro:"Roumanie",bg:"Bulgarie",cz:"RÃ©publique TchÃ¨que",hu:"Hongrie",sk:"Slovaquie",hr:"Croatie",rs:"Serbie",gr:"GrÃ¨ce",se:"SuÃ¨de",no:"NorvÃ¨ge",dk:"Danemark",fi:"Finlande",ie:"Irlande",uz:"OuzbÃ©kistan",kg:"Kirghizistan",0:"Russie",1:"Ukraine",2:"Kazakhstan",3:"Chine",4:"Philippines",5:"Myanmar",6:"IndonÃ©sie",7:"Malaisie",8:"Kenya",9:"Tanzanie",10:"Vietnam",11:"Kirghizistan",12:"Angleterre",13:"IsraÃ«l",14:"Hong Kong",15:"Pologne",16:"Ã‰gypte",17:"Nigeria",19:"Maroc",20:"Ghana",21:"Argentine",22:"Inde",23:"OuzbÃ©kistan",24:"Cambodge",25:"Cameroun",27:"Allemagne",32:"Roumanie",33:"Colombie",36:"Canada",37:"Arabie Saoudite",38:"Mexique",39:"Afrique du Sud",40:"Espagne",43:"Pays-Bas",44:"Bangladesh",45:"BrÃ©sil",46:"Turquie",47:"Japon",48:"CorÃ©e du Sud",49:"TaÃ¯wan",50:"Singapour",51:"Ã‰mirats Arabes Unis",52:"ThaÃ¯lande",53:"Pakistan",56:"Portugal",58:"Italie",60:"Suisse",61:"GrÃ¨ce",62:"RÃ©publique TchÃ¨que",63:"Hongrie",64:"Danemark",65:"NorvÃ¨ge",66:"Finlande",67:"Irlande",73:"PÃ©rou",74:"Chili",78:"France",117:"Portugal",175:"Australie",187:"Ã‰tats-Unis",russia:"Russie",ukraine:"Ukraine",usa:"Ã‰tats-Unis",england:"Angleterre",france:"France",germany:"Allemagne",indonesia:"IndonÃ©sie",india:"Inde",philippines:"Philippines",vietnam:"Vietnam",brazil:"BrÃ©sil",mexico:"Mexique",canada:"Canada",australia:"Australie",spain:"Espagne",italy:"Italie",thailand:"ThaÃ¯lande",malaysia:"Malaisie",morocco:"Maroc",argentina:"Argentine"};return r[s.toLowerCase()]||r[s]||s.toUpperCase()},P=(s,r,a)=>{if(!s)return"Location";const m=/^rent\s+(.+?)(?:\s+in\s+([^\s]+))?\s+for\s+(\d+)\s*hours?/i.exec(s);if(m){const n=m[1].split(",").map(x=>x.trim()).filter(Boolean).map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(", "),v=Number(m[3])||r,k=v?`${v}h`:"",M=m[2]||a,j=M?L(M):"",U=j?` (${j})`:"";return`Location ${n}${U}${k?` pendant ${k}`:""}`}const l=s.toLowerCase();return l==="full"?"Location multi-service":l==="ot"?"Location autre service":`Location ${R(s)}`},E=Math.ceil(Y.length/S),ae=Y.slice((d-1)*S,d*S),V=Math.ceil(Q.length/S),te=Q.slice((N-1)*S,N*S);return e.jsxDEV("div",{className:"min-h-screen bg-background pt-4 lg:pt-0",children:[e.jsxDEV("div",{className:"bg-card border-b border-border",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-6",children:[e.jsxDEV("h1",{className:"text-xl sm:text-3xl font-bold text-foreground text-center mb-4",children:i("history.title")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:788,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-1 bg-muted p-1 rounded-lg max-w-xs mx-auto",children:[e.jsxDEV("button",{onClick:()=>B("orders"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${C==="orders"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:i("history.orders")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:792,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>B("payments"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${C==="payments"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:i("history.payments")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:802,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:791,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:787,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:786,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-3xl mx-auto px-3 sm:px-6 py-4",children:C==="orders"?e.jsxDEV(e.Fragment,{children:[je?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV("div",{className:"animate-spin w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full mx-auto"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:823,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-500 mt-4",children:i("common.loading")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:824,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:822,columnNumber:15},this):ae.length===0?e.jsxDEV("div",{className:"text-center py-16",children:[e.jsxDEV("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsxDEV("span",{className:"text-4xl",children:"ðŸ“‹"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:829,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:828,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-500 mb-2",children:i("history.noOrders")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:831,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-400",children:i("history.noOrders")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:832,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:827,columnNumber:15},this):e.jsxDEV("div",{className:"space-y-3",children:ae.map(s=>{const r=Pe(s),a=re(s.expiresAt),o=s.type==="rental",m=!!s.smsCode;return e.jsxDEV("div",{className:`bg-card border rounded-xl p-3 sm:px-5 sm:py-4 hover:shadow-md transition-all ${o?"border-purple-200 dark:border-purple-800":"border-border"}`,children:[o&&e.jsxDEV("div",{className:"flex items-center gap-1 mb-2",children:[e.jsxDEV(ne,{className:"w-3 h-3 text-purple-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:851,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:i("history.rentalHours",{hours:s.durationHours})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:852,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:850,columnNumber:23},this),e.jsxDEV("div",{className:"flex flex-col sm:hidden gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative flex-shrink-0",children:[e.jsxDEV("div",{className:`w-11 h-11 border rounded-xl flex items-center justify-center ${o?"bg-purple-50 border-purple-200":"bg-muted border-border"}`,children:[e.jsxDEV("img",{src:ge(s.serviceCode),alt:s.serviceCode,className:"w-6 h-6 object-contain",onError:l=>w(l,s.serviceCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:865,columnNumber:31},this),e.jsxDEV("span",{className:"text-base hidden items-center justify-center",children:xe(s.serviceCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:871,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:862,columnNumber:29},this),e.jsxDEV("div",{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 rounded-full border-2 border-background overflow-hidden bg-background shadow-md flex items-center justify-center",children:[e.jsxDEV("img",{src:be(s.countryCode),alt:s.countryCode,className:"w-full h-full object-cover",onError:l=>w(l)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:874,columnNumber:31},this),e.jsxDEV("span",{className:"text-xs hidden items-center justify-center",children:he(s.countryCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:880,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:873,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:861,columnNumber:27},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold text-sm text-foreground leading-tight",children:o?P(s.serviceCode,s.durationHours,s.countryCode):R(s.serviceCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:885,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:L(s.countryCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:888,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:884,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:859,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:`flex items-center justify-center px-2.5 py-1.5 rounded-full ${o?"bg-purple-100 text-purple-700":"bg-muted text-muted-foreground"}`,children:[e.jsxDEV("span",{className:"text-xs font-semibold",children:Math.floor(s.price)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:894,columnNumber:29},this),e.jsxDEV("span",{className:"text-[10px] ml-0.5",children:"â’¶"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:895,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:893,columnNumber:27},this),o?e.jsxDEV("button",{className:"p-1.5 rounded-lg opacity-50 cursor-not-allowed",disabled:!0,children:e.jsxDEV(H,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:961,columnNumber:31},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:960,columnNumber:29},this):e.jsxDEV(de,{children:[e.jsxDEV(Ne,{asChild:!0,children:e.jsxDEV("button",{className:"p-1.5 hover:bg-muted rounded-lg transition-colors",children:e.jsxDEV(H,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:901,columnNumber:35},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:900,columnNumber:33},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:899,columnNumber:31},this),e.jsxDEV(pe,{align:"end",className:"w-44",children:[!m&&(r==="waiting"||r==="pending")&&e.jsxDEV(p,{onClick:()=>ee(s.id),className:"cursor-pointer text-sm",children:[e.jsxDEV(z,{className:"h-4 w-4 mr-2 text-blue-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:910,columnNumber:37},this),"VÃ©rifier SMS"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:906,columnNumber:35},this),m&&e.jsxDEV(p,{onClick:()=>{var n;const l=(n=s.smsCode)!=null&&n.includes("STATUS_OK:")?s.smsCode.split(":")[1]:s.smsCode||"";g(l)},className:"cursor-pointer text-sm",children:[e.jsxDEV(h,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:925,columnNumber:37},this),"Copier le code"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:916,columnNumber:35},this),!m&&(r==="waiting"||r==="pending")?X(s.expiresAt)?e.jsxDEV(p,{onClick:()=>Z(s.id,s.orderId),className:"text-red-600 focus:text-red-600 focus:bg-red-50 cursor-pointer text-sm",children:[e.jsxDEV(me,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:936,columnNumber:39},this),i("dashboard.cancel")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:932,columnNumber:37},this):e.jsxDEV(p,{disabled:!0,className:"cursor-not-allowed opacity-50 text-xs",children:[e.jsxDEV(O,{className:"h-4 w-4 mr-2 text-gray-400"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:944,columnNumber:39},this),e.jsxDEV("span",{children:i("history.cancelIn",{minutes:Math.ceil((300-_(s.expiresAt))/60)})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:945,columnNumber:39},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:940,columnNumber:37},this):null,(r==="cancelled"||r==="timeout")&&e.jsxDEV(p,{disabled:!0,className:"cursor-not-allowed opacity-60 text-xs",children:[e.jsxDEV($,{className:"h-4 w-4 mr-2 text-gray-400"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:952,columnNumber:37},this),e.jsxDEV("span",{children:i(r==="cancelled"?"history.cancelled":"history.timeout")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:953,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:951,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:904,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:898,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:892,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:858,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-mono text-sm font-semibold text-foreground bg-muted px-2.5 py-1 rounded flex-1",children:K(s.phone)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:969,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>g(s.phone),className:"p-2 hover:bg-primary/10 rounded-lg transition-colors",children:e.jsxDEV(h,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:976,columnNumber:27},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:972,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:968,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[o?r==="active"||r==="completed"?e.jsxDEV("button",{onClick:()=>{G({rentalId:s.orderId,phone:s.phone,service:s.serviceCode}),J(s.orderId),y(!0)},className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl rounded-tr-sm px-3 py-2 shadow-sm flex-1 mr-2 text-left active:scale-95 transition-transform",children:[e.jsxDEV("span",{className:"font-medium text-xs leading-relaxed block",children:["ðŸ“¨ ",i("history.messagesReceived",{count:s.messageCount||0})]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:997,columnNumber:31},this),e.jsxDEV("span",{className:"text-[10px] opacity-70 flex items-center gap-1 mt-1",children:i("history.clickToView")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1e3,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:985,columnNumber:29},this):e.jsxDEV("div",{className:"flex items-center gap-1.5 text-red-600",children:[e.jsxDEV("span",{className:"text-xs",children:"âœ•"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1006,columnNumber:31},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:i("history.cancelled")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1007,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1005,columnNumber:29},this):r==="received"&&s.smsCode?e.jsxDEV("button",{onClick:()=>{var n;const l=(n=s.smsCode)!=null&&n.includes("STATUS_OK:")?s.smsCode.split(":")[1]:s.smsCode||"";g(l)},className:"bg-primary text-primary-foreground rounded-xl rounded-tr-sm px-3 py-2 shadow-sm flex-1 mr-2 text-left active:scale-95 transition-transform",children:[e.jsxDEV("span",{className:"font-medium text-xs leading-relaxed block",children:(()=>{var n;const l=(n=s.smsCode)!=null&&n.includes("STATUS_OK:")?s.smsCode.split(":")[1]:s.smsCode;return s.smsText&&!s.smsText.includes("STATUS_OK:")?s.smsText:`Code: ${l}`})()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1022,columnNumber:29},this),e.jsxDEV("span",{className:"text-[10px] opacity-70 flex items-center gap-1 mt-1",children:[e.jsxDEV(h,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1033,columnNumber:31},this)," ",i("dashboard.clickToCopy")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1032,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1013,columnNumber:27},this):r==="waiting"?e.jsxDEV("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxDEV("div",{className:"w-3.5 h-3.5 border-2 border-muted-foreground/30 border-t-muted-foreground rounded-full animate-spin"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1038,columnNumber:29},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:i("dashboard.waitingForSMS")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1039,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1037,columnNumber:27},this):r==="timeout"?e.jsxDEV("div",{className:"flex items-center gap-1.5 text-orange-600",children:[e.jsxDEV("span",{className:"text-xs",children:"â°"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1043,columnNumber:29},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:i("history.timeout")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1044,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1042,columnNumber:27},this):r==="cancelled"?e.jsxDEV("div",{className:"flex items-center gap-1.5 text-red-600",children:[e.jsxDEV("span",{className:"text-xs",children:"âœ•"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1048,columnNumber:29},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:i("history.cancelled")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1049,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1047,columnNumber:27},this):e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:i("dashboard.noSMS")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1052,columnNumber:27},this),!o&&r==="waiting"&&e.jsxDEV("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsxDEV(O,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1059,columnNumber:29},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:se(a)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1060,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1058,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:981,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:856,columnNumber:21},this),e.jsxDEV("div",{className:"hidden sm:flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative flex-shrink-0",children:[e.jsxDEV("div",{className:`w-12 h-12 border rounded-xl flex items-center justify-center ${o?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-700":"bg-muted border-border"}`,children:[e.jsxDEV("img",{src:ge(s.serviceCode),alt:s.serviceCode,className:"w-6 h-6 object-contain",onError:l=>w(l,s.serviceCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1073,columnNumber:27},this),e.jsxDEV("span",{className:"text-lg hidden items-center justify-center",children:xe(s.serviceCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1079,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1070,columnNumber:25},this),e.jsxDEV("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-background overflow-hidden bg-background shadow-sm flex items-center justify-center",children:[e.jsxDEV("img",{src:be(s.countryCode),alt:s.countryCode,className:"w-full h-full object-cover",onError:l=>w(l)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1082,columnNumber:27},this),e.jsxDEV("span",{className:"text-sm hidden items-center justify-center",children:he(s.countryCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1088,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1081,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1069,columnNumber:23},this),e.jsxDEV("div",{className:"w-[130px] flex-shrink-0",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("p",{className:"font-semibold text-sm text-foreground leading-tight truncate",children:o?P(s.serviceCode,s.durationHours,s.countryCode):R(s.serviceCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1095,columnNumber:27},this),o&&e.jsxDEV(ne,{className:"w-3 h-3 text-purple-500 flex-shrink-0"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1098,columnNumber:40},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1094,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground leading-tight truncate",children:L(s.countryCode)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1100,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1093,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxDEV("span",{className:"font-mono text-sm font-semibold text-foreground bg-muted px-2 py-1 rounded",children:K(s.phone)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1105,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>g(s.phone),className:"p-1 hover:bg-primary/10 rounded-md transition-colors",title:"Copier le numÃ©ro",children:e.jsxDEV(h,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1113,columnNumber:27},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1108,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1104,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-3 flex-1 justify-end min-w-0",children:[e.jsxDEV("div",{className:"flex-1 min-w-0 max-w-[280px]",children:o?r==="active"||r==="completed"?e.jsxDEV("button",{onClick:()=>{G({rentalId:s.orderId,phone:s.phone,service:s.serviceCode}),J(s.orderId),y(!0)},className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl px-3 py-2 shadow-sm cursor-pointer hover:opacity-90 active:scale-95 transition-all w-full text-left",children:e.jsxDEV("span",{className:"font-medium text-xs leading-relaxed block truncate",children:["ðŸ“¨ ",i("history.messagesReceivedShort",{count:s.messageCount||0,hours:s.durationHours})]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1136,columnNumber:33},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1124,columnNumber:31},this):r==="expired"?e.jsxDEV("div",{className:"flex items-center gap-1.5 text-orange-600 bg-orange-50 dark:bg-orange-900/20 px-3 py-2 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm",children:"â°"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1142,columnNumber:33},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:i("history.expired")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1143,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1141,columnNumber:31},this):e.jsxDEV("div",{className:"flex items-center gap-1.5 text-red-600 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm",children:"âœ•"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1147,columnNumber:33},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:i("history.cancelled")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1148,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1146,columnNumber:31},this):r==="received"&&s.smsCode?e.jsxDEV("button",{onClick:()=>{var n;const l=(n=s.smsCode)!=null&&n.includes("STATUS_OK:")?s.smsCode.split(":")[1]:s.smsCode||"";g(l)},className:"bg-primary text-primary-foreground rounded-xl px-3 py-2 shadow-sm cursor-pointer hover:opacity-90 active:scale-95 transition-all w-full text-left",children:[e.jsxDEV("span",{className:"font-medium text-xs leading-relaxed block truncate",children:(()=>{var n;const l=(n=s.smsCode)!=null&&n.includes("STATUS_OK:")?s.smsCode.split(":")[1]:s.smsCode;return s.smsText&&!s.smsText.includes("STATUS_OK:")?s.smsText:`Code: ${l}`})()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1161,columnNumber:31},this),e.jsxDEV("span",{className:"text-[10px] opacity-70 flex items-center gap-1 mt-0.5",children:[e.jsxDEV(h,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1173,columnNumber:33},this)," ",i("history.copy")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1172,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1152,columnNumber:29},this):r==="waiting"||r==="pending"?e.jsxDEV("div",{className:"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 px-3 py-2 rounded-lg",children:[e.jsxDEV("div",{className:"w-3.5 h-3.5 border-2 border-blue-400/30 border-t-blue-500 rounded-full animate-spin flex-shrink-0"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1178,columnNumber:31},this),e.jsxDEV("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:i("dashboard.waitingForSMS")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1179,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1177,columnNumber:29},this):r==="timeout"?e.jsxDEV("div",{className:"flex items-center gap-1.5 text-orange-600 bg-orange-50 dark:bg-orange-900/20 px-3 py-2 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm",children:"â°"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1183,columnNumber:31},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:i("history.timeout")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1184,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1182,columnNumber:29},this):r==="cancelled"||r==="refunded"?e.jsxDEV("div",{className:"flex items-center gap-1.5 text-red-600 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm",children:"âœ•"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1188,columnNumber:31},this),e.jsxDEV("span",{className:"text-xs font-semibold",children:i("history.cancelled")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1189,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1187,columnNumber:29},this):e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:i("dashboard.noSMS")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1192,columnNumber:29},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1120,columnNumber:25},this),!o&&(r==="waiting"||r==="pending")&&a>0&&e.jsxDEV("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-muted rounded-lg flex-shrink-0",children:[e.jsxDEV(O,{className:"h-3.5 w-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1199,columnNumber:29},this),e.jsxDEV("span",{className:"text-xs font-semibold text-foreground",children:se(a)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1200,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1198,columnNumber:27},this),e.jsxDEV("div",{className:`flex items-center justify-center px-2.5 py-1.5 rounded-full flex-shrink-0 ${o?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":"bg-muted text-muted-foreground"}`,children:[e.jsxDEV("span",{className:"text-xs font-semibold",children:Math.floor(s.price)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1208,columnNumber:27},this),e.jsxDEV("span",{className:"text-[10px] ml-0.5",children:"â’¶"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1209,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1205,columnNumber:25},this),o?e.jsxDEV("button",{className:"p-1.5 rounded-lg opacity-50 cursor-not-allowed flex-shrink-0",disabled:!0,children:e.jsxDEV(H,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1277,columnNumber:29},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1276,columnNumber:27},this):e.jsxDEV(de,{children:[e.jsxDEV(Ne,{asChild:!0,children:e.jsxDEV("button",{className:"p-1.5 hover:bg-muted rounded-lg transition-colors flex-shrink-0",children:e.jsxDEV(H,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1217,columnNumber:33},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1216,columnNumber:31},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1215,columnNumber:29},this),e.jsxDEV(pe,{align:"end",sideOffset:5,className:"w-44",children:[!m&&(r==="waiting"||r==="pending")&&e.jsxDEV(p,{onClick:()=>ee(s.id),className:"cursor-pointer text-sm",children:[e.jsxDEV(z,{className:"h-4 w-4 mr-2 text-blue-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1226,columnNumber:35},this),"VÃ©rifier SMS"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1222,columnNumber:33},this),m&&e.jsxDEV(p,{onClick:()=>{var n;const l=(n=s.smsCode)!=null&&n.includes("STATUS_OK:")?s.smsCode.split(":")[1]:s.smsCode||"";g(l)},className:"cursor-pointer text-sm",children:[e.jsxDEV(h,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1241,columnNumber:35},this),"Copier le code"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1232,columnNumber:33},this),!m&&(r==="waiting"||r==="pending")?X(s.expiresAt)?e.jsxDEV(p,{onClick:()=>Z(s.id,s.orderId),className:"text-red-600 focus:text-red-600 focus:bg-red-50 cursor-pointer text-sm",children:[e.jsxDEV(me,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1252,columnNumber:37},this),i("dashboard.cancel")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1248,columnNumber:35},this):e.jsxDEV(p,{disabled:!0,className:"cursor-not-allowed opacity-50 text-xs",children:[e.jsxDEV(O,{className:"h-3.5 w-3.5 mr-2 text-gray-400"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1260,columnNumber:37},this),e.jsxDEV("span",{children:i("history.cancelIn",{minutes:Math.ceil((300-_(s.expiresAt))/60)})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1261,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1256,columnNumber:35},this):null,(r==="cancelled"||r==="timeout")&&e.jsxDEV(p,{disabled:!0,className:"cursor-not-allowed opacity-60 text-xs",children:[e.jsxDEV($,{className:"h-4 w-4 mr-2 text-gray-400"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1268,columnNumber:35},this),e.jsxDEV("span",{children:i(r==="cancelled"?"history.cancelled":"history.timeout")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1269,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1267,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1220,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1214,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1118,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1067,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:843,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:835,columnNumber:15},this),E>1&&e.jsxDEV("div",{className:"flex items-center justify-center gap-2 mt-6",children:[e.jsxDEV("button",{onClick:()=>T(Math.max(1,d-1)),disabled:d===1,className:"p-2 rounded-lg hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsxDEV(ce,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1296,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1291,columnNumber:17},this),[...Array(E)].map((s,r)=>{const a=r+1;return a===1||a===E||Math.abs(a-d)<=1?e.jsxDEV("button",{onClick:()=>T(a),className:`w-10 h-10 rounded-lg font-semibold transition-all ${a===d?"bg-primary text-primary-foreground":"hover:bg-muted text-foreground"}`,children:a},a,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1307,columnNumber:23},this):a===d-2||a===d+2?e.jsxDEV("span",{className:"text-muted-foreground",children:"..."},a,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1320,columnNumber:28},this):null}),e.jsxDEV("button",{onClick:()=>T(Math.min(E,d+1)),disabled:d===E,className:"p-2 rounded-lg hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsxDEV(ue,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1330,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1325,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1290,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:819,columnNumber:11},this):e.jsxDEV(e.Fragment,{children:[ve?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV("div",{className:"animate-spin w-8 h-8 border-2 border-muted border-t-primary rounded-full mx-auto"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1340,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground mt-4",children:i("common.loading")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1341,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1339,columnNumber:15},this):te.length===0?e.jsxDEV("div",{className:"text-center py-16",children:[e.jsxDEV("div",{className:"w-24 h-24 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsxDEV(_e,{className:"w-12 h-12 text-muted-foreground"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1346,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1345,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground mb-2",children:i("history.noPayments")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1348,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1344,columnNumber:15},this):e.jsxDEV("div",{className:"space-y-3",children:te.map(s=>{var l,n,v,k;const r=()=>{switch(s.type){case"purchase":return e.jsxDEV(Ge,{className:"w-5 h-5 text-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1357,columnNumber:32},this);case"rent":case"rental":return e.jsxDEV(Fe,{className:"w-5 h-5 text-purple-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1360,columnNumber:32},this);case"topup":case"credit":return e.jsxDEV(fe,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1363,columnNumber:32},this);case"refund":return e.jsxDEV(z,{className:"w-5 h-5 text-orange-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1365,columnNumber:32},this);case"bonus":return e.jsxDEV(qe,{className:"w-5 h-5 text-yellow-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1367,columnNumber:32},this);default:return s.amount>0?e.jsxDEV(fe,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1370,columnNumber:29},this):e.jsxDEV(Be,{className:"w-5 h-5 text-red-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1371,columnNumber:29},this)}},a=()=>{var U,x,oe,le;if(s.type==="rent"||s.type==="rental")return P(s.description||((U=s.metadata)==null?void 0:U.service_code)||"rent",((x=s.metadata)==null?void 0:x.rent_hours)||((oe=s.metadata)==null?void 0:oe.duration_hours),(le=s.metadata)==null?void 0:le.country_code);const M=`history.transactionTypes.${s.type}`,j=i(M);return j===M?s.type.charAt(0).toUpperCase()+s.type.slice(1):j},o=()=>{switch(s.status){case"completed":return i("history.completed");case"pending":return i("history.pending");case"refunded":return i("history.refunded");case"failed":return i("history.failed");default:return s.status}},m=()=>{switch(s.status){case"completed":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"refunded":return"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400";case"failed":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};return e.jsxDEV("div",{className:"bg-card rounded-xl border border-border p-4 hover:shadow-md transition-all",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${s.amount>0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:r()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1431,columnNumber:25},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:"font-semibold text-sm text-foreground",children:a()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1441,columnNumber:31},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:s.type==="rent"||s.type==="rental"?P(s.description||((l=s.metadata)==null?void 0:l.service_code)||"rent",((n=s.metadata)==null?void 0:n.rent_hours)||((v=s.metadata)==null?void 0:v.duration_hours),(k=s.metadata)==null?void 0:k.country_code):s.description||"-"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1444,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1440,columnNumber:29},this),e.jsxDEV("div",{className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-bold ${s.amount>0?"bg-green-50 text-green-600 dark:bg-green-900/20":"bg-red-50 text-red-600 dark:bg-red-900/20"}`,children:[e.jsxDEV("span",{children:[s.amount>0?"+":"",Math.floor(s.amount)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1460,columnNumber:31},this),e.jsxDEV("span",{className:"text-xs",children:"â’¶"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1461,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1455,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1439,columnNumber:27},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsxDEV("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${m()}`,children:o()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1468,columnNumber:29},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1473,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1466,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1438,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1429,columnNumber:23},this)},s.id,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1424,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1351,columnNumber:15},this),V>1&&e.jsxDEV("div",{className:"flex items-center justify-center gap-2 mt-6",children:[e.jsxDEV("button",{onClick:()=>A(Math.max(1,N-1)),disabled:N===1,className:"p-2 rounded-lg hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsxDEV(ce,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1499,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1494,columnNumber:17},this),[...Array(V)].map((s,r)=>{const a=r+1;return a===1||a===V||Math.abs(a-N)<=1?e.jsxDEV("button",{onClick:()=>A(a),className:`w-10 h-10 rounded-lg font-semibold transition-all ${a===N?"bg-primary text-primary-foreground":"hover:bg-muted text-foreground"}`,children:a},a,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1510,columnNumber:23},this):a===N-2||a===N+2?e.jsxDEV("span",{className:"text-muted-foreground",children:"..."},a,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1523,columnNumber:28},this):null}),e.jsxDEV("button",{onClick:()=>A(Math.min(V,N+1)),disabled:N===V,className:"p-2 rounded-lg hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsxDEV(ue,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1533,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1528,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1493,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1336,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:817,columnNumber:7},this),e.jsxDEV(ze,{open:Se,onOpenChange:y,children:e.jsxDEV($e,{className:"sm:max-w-md max-h-[85vh] overflow-hidden flex flex-col p-0 gap-0 rounded-2xl",children:[e.jsxDEV("div",{className:"px-5 py-4 border-b bg-white dark:bg-gray-900",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white",children:i("history.rentMessages.title")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1548,columnNumber:17},this),D&&e.jsxDEV("p",{className:"text-sm text-gray-500 font-mono",children:K(D.phone)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1550,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1547,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>y(!1),className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",children:e.jsxDEV($,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1559,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1555,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1546,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1545,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-950",children:De?e.jsxDEV("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsxDEV("div",{className:"relative w-12 h-12 mb-4",children:[e.jsxDEV("div",{className:"absolute inset-0 rounded-full border-4 border-gray-200 dark:border-gray-700"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1569,columnNumber:19},this),e.jsxDEV("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1570,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1568,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:i("common.loading")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1572,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1567,columnNumber:15},this):D&&((ie=I[D.rentalId])==null?void 0:ie.length)>0?e.jsxDEV("div",{className:"space-y-3",children:I[D.rentalId].map((s,r)=>{const a=s.text||"",o=[/[Cc]ode\s*[:\s]?\s*(\d[\d\-\s]{2,7}\d)/,/\b(\d{3}[-\s]?\d{3,4})\b/,/\b(\d{4,8})\b/];let m="";for(const l of o){const n=a.match(l);if(n&&n[1]){m=n[1].replace(/[-\s]/g,"");break}}return e.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm",children:[m&&e.jsxDEV("div",{className:"mb-3 pb-3 border-b border-gray-100 dark:border-gray-800",children:[e.jsxDEV("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:i("history.rentMessages.code")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1598,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-3xl font-mono font-bold text-gray-900 dark:text-white tracking-wider",children:m},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1600,columnNumber:29},this),e.jsxDEV("button",{onClick:()=>g(m),className:"w-10 h-10 bg-primary hover:bg-primary/90 text-white rounded-xl flex items-center justify-center transition-colors active:scale-95",children:e.jsxDEV(h,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1605,columnNumber:31},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1601,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1599,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1597,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:a},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1612,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100 dark:border-gray-800",children:[e.jsxDEV("span",{className:"text-xs text-gray-400",children:s.phoneFrom||"SMS"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1616,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs text-gray-400",children:s.date||""},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1617,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1615,columnNumber:23},this)]},r,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1594,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1575,columnNumber:15},this):e.jsxDEV("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-white dark:bg-gray-900 rounded-2xl flex items-center justify-center shadow-sm mb-4",children:e.jsxDEV(Re,{className:"h-7 w-7 text-gray-400"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1626,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1625,columnNumber:17},this),e.jsxDEV("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:i("history.rentMessages.noMessages")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1628,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-500 text-center",children:i("history.rentMessages.noMessagesDesc")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1629,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1624,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1565,columnNumber:11},this),e.jsxDEV("div",{className:"p-4 border-t bg-white dark:bg-gray-900",children:e.jsxDEV(Le,{variant:"outline",onClick:()=>y(!1),className:"w-full h-11 rounded-xl",children:i("history.rentMessages.close")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1636,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1635,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1543,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:1542,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/HistoryPage.tsx",lineNumber:784,columnNumber:5},this)}export{as as default};
