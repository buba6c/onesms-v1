const u="onesms_sound_pref";function l(i){if(typeof window>"u"||!window.AudioContext)return;const e=new(window.AudioContext||window.webkitAudioContext),r=e.createGain();switch(r.connect(e.destination),r.gain.value=.25,i){case"coin":{[659.25,783.99].forEach((t,n)=>{const o=e.createOscillator(),a=e.createGain();o.connect(a),a.connect(r),o.frequency.value=t,o.type="square";const c=e.currentTime+n*.075,s=c+.1;a.gain.setValueAtTime(.8,c),a.gain.exponentialRampToValueAtTime(.01,s),o.start(c),o.stop(s)});break}case"notification":{const t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(r),t.frequency.value=1046.5,t.type="sine",n.gain.setValueAtTime(.6,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(),t.stop(e.currentTime+.5);break}case"success":{[523.25,659.25,783.99].forEach((t,n)=>{const o=e.createOscillator(),a=e.createGain();o.connect(a),a.connect(r),o.frequency.value=t,o.type="triangle";const c=e.currentTime+n*.12,s=c+.3;a.gain.setValueAtTime(.5,c),a.gain.exponentialRampToValueAtTime(.01,s),o.start(c),o.stop(s)});break}case"arcade":{const t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(r),t.type="square",t.frequency.setValueAtTime(150,e.currentTime),t.frequency.exponentialRampToValueAtTime(1200,e.currentTime+.4),n.gain.setValueAtTime(.5,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.4),t.start(),t.stop(e.currentTime+.4);break}}setTimeout(()=>e.close(),1e3)}const m={play(i){const e=i||this.getPreferredSound();if(e!=="none")try{l(e)}catch(r){console.error("âŒ [SoundManager] Error:",r)}},getPreferredSound(){return typeof window>"u"?"coin":localStorage.getItem(u)||"coin"},setPreferredSound(i){typeof window>"u"||localStorage.setItem(u,i)}};export{m as SoundManager};
