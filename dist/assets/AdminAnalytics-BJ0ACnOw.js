import{aO as R,ac as h,O as it,r as De,u as Pt,g as le,aP as Vt,a5 as _t,j as l,p as Q,V as J,P as ue,Q as me,s as $}from"./index-Bvkzdf-K.js";import{P as wt}from"./phone-CpI0CFAq.js";import{A as Tt}from"./activity-Cg0SBvl-.js";import{T as Mt}from"./trending-up-DmYLNK_E.js";import{f as E,_ as st,s as $t,t as ot,v as Ut,g as z,w as Fe,x as F,L as w,y as ct,z as Ke,E as lt,D as ut,C as mt,b as K,j as G,S as It,A as dt,F as Rt,a as X,d as ft,i as te,e as pt,u as ht,G as vt,H as be,I as yt,J as bt,K as Lt,M as he,N as Be,O as Ct,h as Ft,k as qe,l as gt,X as ge,Y as Ae,n as Kt,P as Bt,r as qt,R as ve,o as Te,T as ye,p as Me,B as Wt,q as zt}from"./BarChart-BnXhUpvW.js";var Gt=["points","className","baseLinePoints","connectNulls"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function Ht(e,t){if(e==null)return{};var n=Zt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function We(e){return Jt(e)||Qt(e)||Yt(e)||Xt()}function Xt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yt(e,t){if(e){if(typeof e=="string")return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}}function Qt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jt(e){if(Array.isArray(e))return $e(e)}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=function(t){return t&&t.x===+t.x&&t.y===+t.y},er=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){ze(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),ze(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},de=function(t,n){var r=er(t);n&&(r=[r.reduce(function(i,s){return[].concat(We(i),We(s))},[])]);var a=r.map(function(i){return i.reduce(function(s,m,o){return"".concat(s).concat(o===0?"M":"L").concat(m.x,",").concat(m.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},tr=function(t,n,r){var a=de(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(de(n.reverse(),r).slice(1))},rr=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,s=Ht(t,Gt);if(!n||!n.length)return null;var m=R("recharts-polygon",r);if(a&&a.length){var o=s.stroke&&s.stroke!=="none",c=tr(n,a,i);return h.createElement("g",{className:m},h.createElement("path",re({},E(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),o?h.createElement("path",re({},E(s,!0),{fill:"none",d:de(n,i)})):null,o?h.createElement("path",re({},E(s,!0),{fill:"none",d:de(a,i)})):null)}var u=de(n,i);return h.createElement("path",re({},E(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:m,d:u}))},nr=st,ar=$t,ir=ot;function sr(e,t){return e&&e.length?nr(e,ir(t),ar):void 0}var or=sr;const cr=it(or);var lr=st,ur=ot,mr=Ut;function dr(e,t){return e&&e.length?lr(e,ur(t),mr):void 0}var fr=dr;const pr=it(fr);var hr=["cx","cy","angle","ticks","axisLine"],vr=["ticks","tick","angle","tickFormatter","stroke"];function ae(e){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(e)}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(n),!0).forEach(function(r){ke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function He(e,t){if(e==null)return{};var n=yr(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xt(r.key),r)}}function gr(e,t,n){return t&&Ze(e.prototype,t),n&&Ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ar(e,t,n){return t=Ne(t),xr(e,At()?Reflect.construct(t,n||[],Ne(e).constructor):t.apply(e,n))}function xr(e,t){if(t&&(ae(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}function Nr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(At=function(){return!!e})()}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ne(e)}function Sr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ue(e,t)}function ke(e,t,n){return t=xt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e){var t=Or(e,"string");return ae(t)=="symbol"?t:t+""}function Or(e,t){if(ae(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ae(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var je=function(e){function t(){return br(this,t),Ar(this,t,arguments)}return Sr(t,e),gr(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,s=i.angle,m=i.cx,o=i.cy;return F(m,o,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,m=r.ticks,o=cr(m,function(u){return u.coordinate||0}),c=pr(m,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,m=r.ticks,o=r.axisLine,c=He(r,hr),u=m.reduce(function(p,f){return[Math.min(p[0],f.coordinate),Math.max(p[1],f.coordinate)]},[1/0,-1/0]),d=F(a,i,u[0],s),v=F(a,i,u[1],s),b=H(H(H({},E(c,!1)),{},{fill:"none"},E(o,!1)),{},{x1:d.x,y1:d.y,x2:v.x,y2:v.y});return h.createElement("line",fe({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,m=a.angle,o=a.tickFormatter,c=a.stroke,u=He(a,vr),d=this.getTickTextAnchor(),v=E(u,!1),b=E(s,!1),p=i.map(function(f,y){var g=r.getTickValueCoord(f),A=H(H(H(H({textAnchor:d,transform:"rotate(".concat(90-m,", ").concat(g.x,", ").concat(g.y,")")},v),{},{stroke:"none",fill:c},b),{},{index:y},g),{},{payload:f});return h.createElement(w,fe({className:R("recharts-polar-radius-axis-tick",ct(s)),key:"tick-".concat(f.coordinate)},Ke(r.props,f,y)),t.renderTickItem(s,A,o?o(f.value,y):f.value))});return h.createElement(w,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,s=r.tick;return!a||!a.length?null:h.createElement(w,{className:R("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),lt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return h.isValidElement(r)?s=h.cloneElement(r,a):z(r)?s=r(a):s=h.createElement(Fe,fe({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(De.PureComponent);ke(je,"displayName","PolarRadiusAxis");ke(je,"axisType","radiusAxis");ke(je,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xe(Object(n),!0).forEach(function(r){Pe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,St(r.key),r)}}function Dr(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kr(e,t,n){return t=Se(t),jr(e,Nt()?Reflect.construct(t,n||[],Se(e).constructor):t.apply(e,n))}function jr(e,t){if(t&&(ie(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(e)}function Pr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nt=function(){return!!e})()}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Se(e)}function Vr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ie(e,t)}function Pe(e,t,n){return t=St(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){var t=_r(e,"string");return ie(t)=="symbol"?t:t+""}function _r(e,t){if(ie(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ie(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wr=Math.PI/180,Qe=1e-5,Ve=function(e){function t(){return Er(this,t),kr(this,t,arguments)}return Vr(t,e),Dr(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,s=a.cy,m=a.radius,o=a.orientation,c=a.tickSize,u=c||8,d=F(i,s,m,r.coordinate),v=F(i,s,m+(o==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*wr),s;return i>Qe?s=a==="outer"?"start":"end":i<-Qe?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.radius,m=r.axisLine,o=r.axisLineType,c=Z(Z({},E(this.props,!1)),{},{fill:"none"},E(m,!1));if(o==="circle")return h.createElement(ut,Y({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var u=this.props.ticks,d=u.map(function(v){return F(a,i,s,v.coordinate)});return h.createElement(rr,Y({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,m=a.tickLine,o=a.tickFormatter,c=a.stroke,u=E(this.props,!1),d=E(s,!1),v=Z(Z({},u),{},{fill:"none"},E(m,!1)),b=i.map(function(p,f){var y=r.getTickLineCoord(p),g=r.getTickTextAnchor(p),A=Z(Z(Z({textAnchor:g},u),{},{stroke:"none",fill:c},d),{},{index:f,payload:p,x:y.x2,y:y.y2});return h.createElement(w,Y({className:R("recharts-polar-angle-axis-tick",ct(s)),key:"tick-".concat(p.coordinate)},Ke(r.props,p,f)),m&&h.createElement("line",Y({className:"recharts-polar-angle-axis-tick-line"},v,y)),s&&t.renderTickItem(s,A,o?o(p.value,f):p.value))});return h.createElement(w,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,s=r.axisLine;return i<=0||!a||!a.length?null:h.createElement(w,{className:R("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var s;return h.isValidElement(r)?s=h.cloneElement(r,a):z(r)?s=r(a):s=h.createElement(Fe,Y({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(De.PureComponent);Pe(Ve,"displayName","PolarAngleAxis");Pe(Ve,"axisType","angleAxis");Pe(Ve,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xe;function se(e){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(e)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(n),!0).forEach(function(r){U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Et(r.key),r)}}function Mr(e,t,n){return t&&et(e.prototype,t),n&&et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e,t,n){return t=Oe(t),Ur(e,Ot()?Reflect.construct(t,n||[],Oe(e).constructor):t.apply(e,n))}function Ur(e,t){if(t&&(se(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Ir(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ot=function(){return!!e})()}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oe(e)}function Rr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Re(e,t)}function U(e,t,n){return t=Et(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e){var t=Lr(e,"string");return se(t)=="symbol"?t:t+""}function Lr(e,t){if(se(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(se(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B=function(e){function t(n){var r;return Tr(this,t),r=$r(this,t,[n]),U(r,"pieRef",null),U(r,"sectorRefs",[]),U(r,"id",ht("recharts-pie-")),U(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),z(a)&&a()}),U(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),z(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Rr(t,e),Mr(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,m=i.labelLine,o=i.dataKey,c=i.valueKey,u=E(this.props,!1),d=E(s,!1),v=E(m,!1),b=s&&s.offsetRadius||20,p=r.map(function(f,y){var g=(f.startAngle+f.endAngle)/2,A=F(f.cx,f.cy,f.outerRadius+b,g),S=x(x(x(x({},u),f),{},{stroke:"none"},d),{},{index:y,textAnchor:t.getTextAnchor(A.x,f.cx)},A),P=x(x(x(x({},u),f),{},{fill:"none",stroke:f.fill},v),{},{index:y,points:[F(f.cx,f.cy,f.outerRadius,g),A]}),N=o;return K(o)&&K(c)?N="value":K(o)&&(N=c),h.createElement(w,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(y)},m&&t.renderLabelLineItem(m,P,"line"),t.renderLabelItem(s,S,G(f,N)))});return h.createElement(w,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,s=i.activeShape,m=i.blendStroke,o=i.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=a.isActiveIndex(u),v=o&&a.hasActiveIndex()?o:null,b=d?s:v,p=x(x({},c),{},{stroke:m?c.fill:c.stroke,tabIndex:-1});return h.createElement(w,ne({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ke(a.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),h.createElement(It,ne({option:b,isActive:d,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,s=a.isAnimationActive,m=a.animationBegin,o=a.animationDuration,c=a.animationEasing,u=a.animationId,d=this.state,v=d.prevSectors,b=d.prevIsAnimationActive;return h.createElement(dt,{begin:m,duration:o,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var f=p.t,y=[],g=i&&i[0],A=g.startAngle;return i.forEach(function(S,P){var N=v&&v[P],V=P>0?Rt(S,"paddingAngle",0):0;if(N){var _=X(N.endAngle-N.startAngle,S.endAngle-S.startAngle),O=x(x({},S),{},{startAngle:A+V,endAngle:A+_(f)+V});y.push(O),A=O.endAngle}else{var k=S.endAngle,j=S.startAngle,L=X(0,k-j),D=L(f),M=x(x({},S),{},{startAngle:A+V,endAngle:A+D+V});y.push(M),A=M.endAngle}}),h.createElement(w,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var m=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[m].focus(),a.setState({sectorToFocus:m});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!ft(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,s=a.sectors,m=a.className,o=a.label,c=a.cx,u=a.cy,d=a.innerRadius,v=a.outerRadius,b=a.isAnimationActive,p=this.state.isAnimationFinished;if(i||!s||!s.length||!te(c)||!te(u)||!te(d)||!te(v))return null;var f=R("recharts-pie",m);return h.createElement(w,{tabIndex:this.props.rootTabIndex,className:f,ref:function(g){r.pieRef=g}},this.renderSectors(),o&&this.renderLabels(s),lt.renderCallByParent(this.props,null,!1),(!b||p)&&pt.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(h.isValidElement(r))return h.cloneElement(r,a);if(z(r))return r(a);var s=R("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return h.createElement(mt,ne({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,i){if(h.isValidElement(r))return h.cloneElement(r,a);var s=i;if(z(r)&&(s=r(a),h.isValidElement(s)))return s;var m=R("recharts-pie-label-text",typeof r!="boolean"&&!z(r)?r.className:"");return h.createElement(Fe,ne({},a,{alignmentBaseline:"middle",className:m}),s)}}])}(De.PureComponent);xe=B;U(B,"displayName","Pie");U(B,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});U(B,"parseDeltaAngle",function(e,t){var n=be(t-e),r=Math.min(Math.abs(t-e),360);return n*r});U(B,"getRealPieData",function(e){var t=e.data,n=e.children,r=E(e,!1),a=yt(n,bt);return t&&t.length?t.map(function(i,s){return x(x(x({payload:i},r),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return x(x({},r),i.props)}):[]});U(B,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,s=Lt(a,i),m=r+he(e.cx,a,a/2),o=n+he(e.cy,i,i/2),c=he(e.innerRadius,s,0),u=he(e.outerRadius,s,s*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:m,cy:o,innerRadius:c,outerRadius:u,maxRadius:d}});U(B,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?x(x({},t.type.defaultProps),t.props):t.props,a=xe.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,m=r.endAngle,o=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,v=r.tooltipType,b=Math.abs(r.minAngle),p=xe.parseCoordinateOfPie(r,n),f=xe.parseDeltaAngle(s,m),y=Math.abs(f),g=c;K(c)&&K(d)?(Be(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):K(c)&&(Be(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=d);var A=a.filter(function(O){return G(O,g,0)!==0}).length,S=(y>=360?A:A-1)*o,P=y-A*b-S,N=a.reduce(function(O,k){var j=G(k,g,0);return O+(te(j)?j:0)},0),V;if(N>0){var _;V=a.map(function(O,k){var j=G(O,g,0),L=G(O,u,k),D=(te(j)?j:0)/N,M;k?M=_.endAngle+be(f)*o*(j!==0?1:0):M=s;var q=M+be(f)*((j!==0?b:0)+D*P),W=(M+q)/2,C=(p.innerRadius+p.outerRadius)/2,_e=[{name:L,value:j,payload:O,dataKey:g,type:v}],we=F(p.cx,p.cy,C,W);return _=x(x(x({percent:D,cornerRadius:i,name:L,tooltipPayload:_e,midAngle:W,middleRadius:C,tooltipPosition:we},O),p),{},{value:G(O,g),startAngle:M,endAngle:q,payload:O,paddingAngle:be(f)*o}),_})}return x(x({},p),{},{sectors:V,data:a})});var Cr=["type","layout","connectNulls","ref"],Fr=["key"];function oe(e){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(e)}function tt(e,t){if(e==null)return{};var n=Kr(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(r){I(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ee(e){return zr(e)||Wr(e)||qr(e)||Br()}function Br(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(e,t){if(e){if(typeof e=="string")return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}}function Wr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zr(e){if(Array.isArray(e))return Le(e)}function Le(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r)}}function Hr(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zr(e,t,n){return t=Ee(t),Xr(e,Dt()?Reflect.construct(t,n||[],Ee(e).constructor):t.apply(e,n))}function Xr(e,t){if(t&&(oe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yr(e)}function Yr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dt=function(){return!!e})()}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ee(e)}function Qr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ce(e,t)}function I(e,t,n){return t=kt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){var t=Jr(e,"string");return oe(t)=="symbol"?t:t+""}function Jr(e,t){if(oe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ce=function(e){function t(){var n;Gr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Zr(this,t,[].concat(a)),I(n,"state",{isAnimationFinished:!0,totalLength:0}),I(n,"generateSimpleStrokeDasharray",function(s,m){return"".concat(m,"px ").concat(s-m,"px")}),I(n,"getStrokeDasharray",function(s,m,o){var c=o.reduce(function(g,A){return g+A});if(!c)return n.generateSimpleStrokeDasharray(m,s);for(var u=Math.floor(s/c),d=s%c,v=m-s,b=[],p=0,f=0;p<o.length;f+=o[p],++p)if(f+o[p]>d){b=[].concat(ee(o.slice(0,p)),[d-f]);break}var y=b.length%2===0?[0,v]:[v];return[].concat(ee(t.repeat(o,u)),ee(b),y).map(function(g){return"".concat(g,"px")}).join(", ")}),I(n,"id",ht("recharts-line-")),I(n,"pathRef",function(s){n.mainCurve=s}),I(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),I(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Qr(t,e),Hr(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,m=i.xAxis,o=i.yAxis,c=i.layout,u=i.children,d=yt(u,Ct);if(!d)return null;var v=function(f,y){return{x:f.x,y:f.y,value:f.value,errorVal:G(f.payload,y)}},b={clipPath:r?"url(#clipPath-".concat(a,")"):null};return h.createElement(w,b,d.map(function(p){return h.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:m,yAxis:o,layout:c,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var m=this.props,o=m.dot,c=m.points,u=m.dataKey,d=E(this.props,!1),v=E(o,!0),b=c.map(function(f,y){var g=T(T(T({key:"dot-".concat(y),r:3},d),v),{},{index:y,cx:f.x,cy:f.y,value:f.value,dataKey:u,payload:f.payload,points:c});return t.renderDotItem(o,g)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return h.createElement(w,pe({className:"recharts-line-dots",key:"dots"},p),b)}},{key:"renderCurveStatically",value:function(r,a,i,s){var m=this.props,o=m.type,c=m.layout,u=m.connectNulls;m.ref;var d=tt(m,Cr),v=T(T(T({},E(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},s),{},{type:o,layout:c,connectNulls:u});return h.createElement(mt,pe({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,s=this.props,m=s.points,o=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,v=s.animationEasing,b=s.animationId,p=s.animateNewValues,f=s.width,y=s.height,g=this.state,A=g.prevPoints,S=g.totalLength;return h.createElement(dt,{begin:u,duration:d,isActive:c,easing:v,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var N=P.t;if(A){var V=A.length/m.length,_=m.map(function(D,M){var q=Math.floor(M*V);if(A[q]){var W=A[q],C=X(W.x,D.x),_e=X(W.y,D.y);return T(T({},D),{},{x:C(N),y:_e(N)})}if(p){var we=X(f*2,D.x),jt=X(y/2,D.y);return T(T({},D),{},{x:we(N),y:jt(N)})}return T(T({},D),{},{x:D.x,y:D.y})});return i.renderCurveStatically(_,r,a)}var O=X(0,S),k=O(N),j;if(o){var L="".concat(o).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});j=i.getStrokeDasharray(k,S,L)}else j=i.generateSimpleStrokeDasharray(S,k);return i.renderCurveStatically(m,r,a,{strokeDasharray:j})})}},{key:"renderCurve",value:function(r,a){var i=this.props,s=i.points,m=i.isAnimationActive,o=this.state,c=o.prevPoints,u=o.totalLength;return m&&s&&s.length&&(!c&&u>0||!ft(c,s))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(s,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,s=a.dot,m=a.points,o=a.className,c=a.xAxis,u=a.yAxis,d=a.top,v=a.left,b=a.width,p=a.height,f=a.isAnimationActive,y=a.id;if(i||!m||!m.length)return null;var g=this.state.isAnimationFinished,A=m.length===1,S=R("recharts-line",o),P=c&&c.allowDataOverflow,N=u&&u.allowDataOverflow,V=P||N,_=K(y)?this.id:y,O=(r=E(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=O.r,j=k===void 0?3:k,L=O.strokeWidth,D=L===void 0?2:L,M=Ft(s)?s:{},q=M.clipDot,W=q===void 0?!0:q,C=j*2+D;return h.createElement(w,{className:S},P||N?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(_)},h.createElement("rect",{x:P?v:v-b/2,y:N?d:d-p/2,width:P?b:b*2,height:N?p:p*2})),!W&&h.createElement("clipPath",{id:"clipPath-dots-".concat(_)},h.createElement("rect",{x:v-C/2,y:d-C/2,width:b+C,height:p+C}))):null,!A&&this.renderCurve(V,_),this.renderErrorBar(V,_),(A||s)&&this.renderDots(V,W,_),(!f||g)&&pt.renderCallByParent(this.props,m))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(ee(r),[0]):r,s=[],m=0;m<a;++m)s=[].concat(ee(s),ee(i));return s}},{key:"renderDotItem",value:function(r,a){var i;if(h.isValidElement(r))i=h.cloneElement(r,a);else if(z(r))i=r(a);else{var s=a.key,m=tt(a,Fr),o=R("recharts-line-dot",typeof r!="boolean"?r.className:"");i=h.createElement(ut,pe({key:s},m,{className:o}))}return i}}])}(De.PureComponent);I(ce,"displayName","Line");I(ce,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});I(ce,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,m=e.bandSize,o=e.displayedData,c=e.offset,u=t.layout,d=o.map(function(v,b){var p=G(v,s);return u==="horizontal"?{x:qe({axis:n,ticks:a,bandSize:m,entry:v,index:b}),y:K(p)?null:r.scale(p),value:p,payload:v}:{x:K(p)?null:n.scale(p),y:qe({axis:r,ticks:i,bandSize:m,entry:v,index:b}),value:p,payload:v}});return T({points:d,layout:u},c)});var at=gt({chartName:"LineChart",GraphicalChild:ce,axisComponents:[{axisType:"xAxis",AxisComp:ge},{axisType:"yAxis",AxisComp:Ae}],formatAxisMap:Kt}),en=gt({chartName:"PieChart",GraphicalChild:B,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ve},{axisType:"radiusAxis",AxisComp:je}],formatAxisMap:Bt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function on(){const{t:e}=Pt(),{data:t=[]}=le({queryKey:["analytics-revenue"],queryFn:async()=>{const{data:o}=await $.from("transactions").select("amount, created_at").eq("status","completed").gte("created_at",new Date(Date.now()-6048e5).toISOString()),c={};return o==null||o.forEach(u=>{const d=new Date(u.created_at).toLocaleDateString();c[d]=(c[d]||0)+parseFloat(u.amount||"0")}),Object.entries(c).map(([u,d])=>({date:u,revenue:Math.round(d)}))},refetchInterval:6e4}),{data:n=[]}=le({queryKey:["analytics-users"],queryFn:async()=>{const{data:o}=await $.from("users").select("created_at").gte("created_at",new Date(Date.now()-6048e5).toISOString()),c={};return o==null||o.forEach(u=>{const d=new Date(u.created_at).toLocaleDateString();c[d]=(c[d]||0)+1}),Object.entries(c).map(([u,d])=>({date:u,users:d}))},refetchInterval:6e4}),{data:r=[]}=le({queryKey:["analytics-services"],queryFn:async()=>{const{data:o}=await $.from("activations").select("service_code, price").eq("status","completed"),c={};return o==null||o.forEach(u=>{c[u.service_code]||(c[u.service_code]={count:0,revenue:0}),c[u.service_code].count++,c[u.service_code].revenue+=parseFloat(u.price||"0")}),Object.entries(c).map(([u,d])=>({name:u,count:d.count,revenue:Math.round(d.revenue)})).sort((u,d)=>d.count-u.count).slice(0,10)},refetchInterval:6e4}),{data:a=[]}=le({queryKey:["analytics-countries"],queryFn:async()=>{const{data:o}=await $.from("activations").select("country_code").eq("status","completed"),c={};return o==null||o.forEach(u=>{c[u.country_code]=(c[u.country_code]||0)+1}),Object.entries(c).map(([u,d])=>({name:u,value:d})).sort((u,d)=>d.value-u.value).slice(0,5)},refetchInterval:6e4}),{data:i}=le({queryKey:["analytics-stats"],queryFn:async()=>{const o=new Date;o.setHours(0,0,0,0);const c=new Date(o);c.setDate(c.getDate()-1);const{data:u}=await $.from("transactions").select("amount").eq("status","completed").gte("created_at",o.toISOString()),{data:d}=await $.from("transactions").select("amount").eq("status","completed").gte("created_at",c.toISOString()).lt("created_at",o.toISOString()),v=(u==null?void 0:u.reduce((O,k)=>O+parseFloat(k.amount||"0"),0))||0,b=(d==null?void 0:d.reduce((O,k)=>O+parseFloat(k.amount||"0"),0))||0,p=b>0?((v-b)/b*100).toFixed(1):"0",{count:f}=await $.from("users").select("*",{count:"exact",head:!0}).gte("created_at",o.toISOString()),{count:y}=await $.from("users").select("*",{count:"exact",head:!0}).gte("created_at",c.toISOString()).lt("created_at",o.toISOString()),g=y&&y>0?(((f||0)-y)/y*100).toFixed(1):"0",{count:A}=await $.from("activations").select("*",{count:"exact",head:!0}).eq("status","completed").gte("created_at",o.toISOString()),{count:S}=await $.from("activations").select("*",{count:"exact",head:!0}).eq("status","completed").gte("created_at",c.toISOString()).lt("created_at",o.toISOString()),P=S&&S>0?(((A||0)-S)/S*100).toFixed(1):"0",{count:N}=await $.from("activations").select("*",{count:"exact",head:!0}),{count:V}=await $.from("activations").select("*",{count:"exact",head:!0}).eq("status","completed"),_=N&&N>0?((V||0)/N*100).toFixed(1):"0";return{revenue:Math.round(v),revenueTrend:parseFloat(p),users:f||0,usersTrend:parseFloat(g),numbers:A||0,numbersTrend:parseFloat(P),conversionRate:parseFloat(_)}},refetchInterval:6e4}),s=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],m=[{label:e("admin.stats.revenueToday"),value:`${(i==null?void 0:i.revenue)||0} â’¶`,trend:`${(i==null?void 0:i.revenueTrend)||0}%`,trendUp:((i==null?void 0:i.revenueTrend)||0)>=0,icon:Vt,color:"text-green-500"},{label:e("admin.stats.newUsers"),value:(i==null?void 0:i.users)||0,trend:`${(i==null?void 0:i.usersTrend)||0}%`,trendUp:((i==null?void 0:i.usersTrend)||0)>=0,icon:_t,color:"text-blue-500"},{label:e("admin.stats.numbersSold"),value:(i==null?void 0:i.numbers)||0,trend:`${(i==null?void 0:i.numbersTrend)||0}%`,trendUp:((i==null?void 0:i.numbersTrend)||0)>=0,icon:wt,color:"text-purple-500"},{label:e("admin.stats.conversionRate"),value:`${(i==null?void 0:i.conversionRate)||0}%`,trend:"Global",trendUp:!0,icon:Tt,color:"text-orange-500"}];return l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h1",{className:"text-3xl font-bold",children:e("admin.analytics")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:262,columnNumber:9},this),l.jsxDEV("p",{className:"text-gray-500",children:e("admin.analyticsDescription","Detailed insights and metrics")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:263,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:261,columnNumber:7},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:m.map((o,c)=>l.jsxDEV(Q,{children:l.jsxDEV(J,{className:"p-6",children:l.jsxDEV("div",{className:"flex items-start justify-between",children:[l.jsxDEV("div",{className:"flex-1",children:[l.jsxDEV("p",{className:"text-sm text-gray-500 mb-1",children:o.label},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:273,columnNumber:19},this),l.jsxDEV("h3",{className:"text-3xl font-bold mb-2",children:o.value},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:274,columnNumber:19},this),l.jsxDEV("div",{className:"flex items-center text-sm",children:[o.trendUp?l.jsxDEV(Mt,{className:"w-4 h-4 text-green-500 mr-1"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:277,columnNumber:23},this):l.jsxDEV(qt,{className:"w-4 h-4 text-red-500 mr-1"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:279,columnNumber:23},this),l.jsxDEV("span",{className:o.trendUp?"text-green-500":"text-red-500",children:o.trend},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:281,columnNumber:21},this),l.jsxDEV("span",{className:"text-gray-500 ml-1",children:"vs yesterday"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:284,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:275,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:272,columnNumber:17},this),l.jsxDEV(o.icon,{className:`w-8 h-8 ${o.color}`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:287,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:271,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:270,columnNumber:13},this)},c,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:269,columnNumber:11},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:267,columnNumber:7},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV(Q,{children:[l.jsxDEV(ue,{children:l.jsxDEV(me,{children:"Revenue (Last 7 Days)"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:299,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:298,columnNumber:11},this),l.jsxDEV(J,{children:l.jsxDEV(ve,{width:"100%",height:300,children:l.jsxDEV(at,{data:t,children:[l.jsxDEV(Te,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:304,columnNumber:17},this),l.jsxDEV(ge,{dataKey:"date"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:305,columnNumber:17},this),l.jsxDEV(Ae,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:306,columnNumber:17},this),l.jsxDEV(ye,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:307,columnNumber:17},this),l.jsxDEV(Me,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:308,columnNumber:17},this),l.jsxDEV(ce,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:309,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:303,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:302,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:301,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:297,columnNumber:9},this),l.jsxDEV(Q,{children:[l.jsxDEV(ue,{children:l.jsxDEV(me,{children:"New Users (Last 7 Days)"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:318,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:317,columnNumber:11},this),l.jsxDEV(J,{children:l.jsxDEV(ve,{width:"100%",height:300,children:l.jsxDEV(at,{data:n,children:[l.jsxDEV(Te,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:323,columnNumber:17},this),l.jsxDEV(ge,{dataKey:"date"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:324,columnNumber:17},this),l.jsxDEV(Ae,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:325,columnNumber:17},this),l.jsxDEV(ye,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:326,columnNumber:17},this),l.jsxDEV(Me,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:327,columnNumber:17},this),l.jsxDEV(ce,{type:"monotone",dataKey:"users",stroke:"#10b981",strokeWidth:2},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:328,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:322,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:321,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:320,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:316,columnNumber:9},this),l.jsxDEV(Q,{children:[l.jsxDEV(ue,{children:l.jsxDEV(me,{children:"Top 10 Services"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:337,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:336,columnNumber:11},this),l.jsxDEV(J,{children:l.jsxDEV(ve,{width:"100%",height:300,children:l.jsxDEV(Wt,{data:r,children:[l.jsxDEV(Te,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:342,columnNumber:17},this),l.jsxDEV(ge,{dataKey:"name"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:343,columnNumber:17},this),l.jsxDEV(Ae,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:344,columnNumber:17},this),l.jsxDEV(ye,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:345,columnNumber:17},this),l.jsxDEV(Me,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:346,columnNumber:17},this),l.jsxDEV(zt,{dataKey:"count",fill:"#8b5cf6"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:347,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:341,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:340,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:339,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:335,columnNumber:9},this),l.jsxDEV(Q,{children:[l.jsxDEV(ue,{children:l.jsxDEV(me,{children:"Top 5 Countries"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:356,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:355,columnNumber:11},this),l.jsxDEV(J,{children:l.jsxDEV(ve,{width:"100%",height:300,children:l.jsxDEV(en,{children:[l.jsxDEV(B,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:o=>`${o.name}: ${o.value}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((o,c)=>l.jsxDEV(bt,{fill:s[c%s.length]},`cell-${c}`,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:372,columnNumber:21},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:361,columnNumber:17},this),l.jsxDEV(ye,{},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:375,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:360,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:359,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:358,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:354,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:295,columnNumber:7},this),l.jsxDEV(Q,{children:[l.jsxDEV(ue,{children:l.jsxDEV(me,{children:"Popular Services Details"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:385,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:384,columnNumber:9},this),l.jsxDEV(J,{children:l.jsxDEV("div",{className:"overflow-x-auto",children:l.jsxDEV("table",{className:"w-full",children:[l.jsxDEV("thead",{className:"bg-gray-50 border-b",children:l.jsxDEV("tr",{children:[l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Service"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:392,columnNumber:19},this),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Uses"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:393,columnNumber:19},this),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:394,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:391,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:390,columnNumber:15},this),l.jsxDEV("tbody",{className:"divide-y",children:r.map((o,c)=>l.jsxDEV("tr",{className:"hover:bg-gray-50",children:[l.jsxDEV("td",{className:"px-6 py-4",children:l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold",children:o.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:402,columnNumber:25},this),l.jsxDEV("span",{className:"font-medium capitalize",children:o.name},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:405,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:401,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:400,columnNumber:21},this),l.jsxDEV("td",{className:"px-6 py-4",children:l.jsxDEV("span",{className:"font-medium",children:o.count},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:409,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:408,columnNumber:21},this),l.jsxDEV("td",{className:"px-6 py-4",children:l.jsxDEV("span",{className:"font-medium text-green-600",children:[o.revenue," â’¶"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:412,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:411,columnNumber:21},this)]},c,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:399,columnNumber:19},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:397,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:389,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:388,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:387,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:383,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminAnalytics.tsx",lineNumber:259,columnNumber:5},this)}export{on as default};
