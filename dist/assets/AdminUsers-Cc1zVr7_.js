import{a as de,u as ue,r,s as f,p as $,aw as F,ap as Ne,j as e,B as n,R as pe,T as R,ax as xe,i as C,q as I,g as be,I as w,am as fe}from"./index-sAk8NP6L.js";import{B as q}from"./badge-BMp3Ap5Z.js";import{D as U,a as g,b as v,c as k,d as A,e as j}from"./dialog-DgUIN6xo.js";import{C as he}from"./coins-B3-KQhAU.js";import"./index-Do89sa3o.js";function ve(){const{t:Se}=de(),{toast:c}=ue(),[B,H]=r.useState([]),[u,J]=r.useState([]),[b,P]=r.useState(""),[N,z]=r.useState("all"),[G,L]=r.useState(!0),[d,K]=r.useState({total:0,active:0,banned:0,admins:0}),[Q,h]=r.useState(!1),[W,S]=r.useState(!1),[X,D]=r.useState(!1),[i,O]=r.useState(null),[p,M]=r.useState(""),[_,y]=r.useState(""),[t,o]=r.useState(!1),[l,E]=r.useState([]),[Y,V]=r.useState(!1);r.useEffect(()=>{x()},[]),r.useEffect(()=>{ee()},[b,N,B]);const x=async()=>{L(!0);const{data:s,error:a}=await f.from("users").select("*").order("created_at",{ascending:!1});!a&&s&&(H(s),Z(s)),L(!1)},Z=s=>{K({total:s.length,active:s.filter(a=>a.role!=="banned").length,banned:s.filter(a=>a.role==="banned").length,admins:s.filter(a=>a.role==="admin").length})},ee=()=>{let s=B;b&&(s=s.filter(a=>{var m,T;return((m=a.email)==null?void 0:m.toLowerCase().includes(b.toLowerCase()))||((T=a.name)==null?void 0:T.toLowerCase().includes(b.toLowerCase()))})),N!=="all"&&(N==="banned"?s=s.filter(a=>a.role==="banned"):N==="active"?s=s.filter(a=>a.role!=="banned"):N==="admin"&&(s=s.filter(a=>a.role==="admin"))),J(s),E([])},se=s=>{E(a=>a.includes(s)?a.filter(m=>m!==s):[...a,s])},ie=()=>{if(u.length===0)return;const s=u.map(m=>m.id),a=s.every(m=>l.includes(m));E(a?[]:s)},ae=async()=>{if(l.length!==0){o(!0);try{const{error:s}=await f.from("users").delete().in("id",l);if(s)throw s;c({title:"Succès",description:`${l.length} utilisateur(s) supprimé(s)`}),V(!1),E([]),x()}catch(s){c({title:"Erreur",description:s.message,variant:"destructive"})}finally{o(!1)}}},re=async()=>{if(!i||!p)return;const s=parseFloat(p);if(isNaN(s)||s<=0){c({title:"Erreur",description:"Montant invalide",variant:"destructive"});return}o(!0);try{const{data:a,error:m}=await f.rpc("admin_add_credit",{p_user_id:i.id,p_amount:s,p_admin_note:_||null});if(m)throw m;c({title:"Succès",description:`${s}Ⓐ ajoutés au compte de ${i.email}`}),h(!1),M(""),y(""),x()}catch(a){c({title:"Erreur",description:a.message||"Impossible d'ajouter du crédit",variant:"destructive"})}finally{o(!1)}},me=async()=>{if(i){o(!0);try{const s=i.role==="banned",a=s?"user":"banned",{error:m}=await f.from("users").update({role:a}).eq("id",i.id);if(m)throw m;c({title:"Succès",description:s?`${i.email} a été débanni`:`${i.email} a été banni`}),S(!1),x()}catch(s){c({title:"Erreur",description:s.message,variant:"destructive"})}finally{o(!1)}}},te=async()=>{if(i){o(!0);try{const{error:s}=await f.from("users").delete().eq("id",i.id);if(s)throw s;c({title:"Succès",description:`Utilisateur ${i.email} supprimé`}),D(!1),x()}catch(s){c({title:"Erreur",description:s.message,variant:"destructive"})}finally{o(!1)}}},ne=s=>{O(s),M(""),y(""),h(!0)},le=s=>{O(s),S(!0)},ce=s=>{O(s),D(!0)},oe=[{title:"Total Users",value:d.total,icon:$,color:"text-blue-500"},{title:"Active",value:d.active,icon:$,color:"text-green-500"},{title:"Banned",value:d.banned,icon:F,color:"text-red-500"},{title:"Admins",value:d.admins,icon:Ne,color:"text-purple-500"}];return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Users Management"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:282,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-500",children:["Total: ",d.total," users (",d.active," active, ",d.banned," banned)"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:283,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:281,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(n,{onClick:x,variant:"outline",children:[e.jsxDEV(pe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:287,columnNumber:13},this),"Rafraîchir"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:286,columnNumber:11},this),e.jsxDEV(n,{variant:"destructive",disabled:l.length===0,onClick:()=>V(!0),children:[e.jsxDEV(R,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:295,columnNumber:13},this),"Supprimer sélection (",l.length,")"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:290,columnNumber:11},this),e.jsxDEV(n,{children:[e.jsxDEV(xe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:299,columnNumber:13},this),"Add User"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:298,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:285,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:280,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:oe.map((s,a)=>e.jsxDEV(C,{children:e.jsxDEV(I,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-500",children:s.title},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:312,columnNumber:19},this),e.jsxDEV("h3",{className:"text-3xl font-bold mt-1",children:s.value},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:313,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:311,columnNumber:17},this),e.jsxDEV(s.icon,{className:`w-8 h-8 ${s.color}`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:310,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:309,columnNumber:13},this)},a,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:308,columnNumber:11},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:306,columnNumber:7},this),e.jsxDEV(C,{children:e.jsxDEV(I,{className:"p-4",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1 relative",children:[e.jsxDEV(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:327,columnNumber:15},this),e.jsxDEV(w,{placeholder:"Search by email or name...",value:b,onChange:s=>P(s.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:328,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:326,columnNumber:13},this),e.jsxDEV("select",{value:N,onChange:s=>z(s.target.value),className:"px-4 py-2 border rounded-lg",children:[e.jsxDEV("option",{value:"all",children:"All Status"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:340,columnNumber:15},this),e.jsxDEV("option",{value:"active",children:"Active"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:341,columnNumber:15},this),e.jsxDEV("option",{value:"banned",children:"Banned"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:343,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:335,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:325,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:324,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:323,columnNumber:7},this),e.jsxDEV(C,{children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 border-b",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:e.jsxDEV("input",{type:"checkbox","aria-label":"Sélectionner tout",checked:u.length>0&&u.every(s=>l.includes(s.id)),onChange:ie},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:356,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:355,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:363,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:364,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:365,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Coins"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:366,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Login"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:367,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Joined"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:368,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:369,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:354,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:353,columnNumber:13},this),e.jsxDEV("tbody",{className:"divide-y",children:G?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Chargement..."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:375,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:374,columnNumber:17},this):u.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Aucun utilisateur trouvé"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:379,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:378,columnNumber:17},this):u.map(s=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("input",{type:"checkbox","aria-label":`Sélectionner ${s.email}`,checked:l.includes(s.id),onChange:()=>se(s.id)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:385,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:384,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:s.email},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:394,columnNumber:25},this),e.jsxDEV("div",{className:"text-sm text-gray-500",children:s.name||"No name"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:395,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:393,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:392,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV(q,{variant:s.role==="admin"?"default":"secondary",children:s.role||"user"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:399,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:398,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV(q,{variant:s.role==="banned"?"destructive":"success",children:s.role==="banned"?"banned":"active"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:404,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:403,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 font-medium",children:Math.floor(s.balance||0)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:408,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:s.updated_at?new Date(s.updated_at).toLocaleDateString("fr-FR"):"-"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:409,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:412,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>ne(s),className:"p-1 hover:bg-gray-100 rounded",title:"Ajouter du crédit",children:e.jsxDEV(he,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:422,columnNumber:27},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:417,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>le(s),className:"p-1 hover:bg-gray-100 rounded",title:s.role==="banned"?"Débannir":"Bannir",children:s.role==="banned"?e.jsxDEV(fe,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:430,columnNumber:29},this):e.jsxDEV(F,{className:"w-4 h-4 text-orange-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:432,columnNumber:29},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:424,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>ce(s),className:"p-1 hover:bg-gray-100 rounded",title:"Supprimer",children:e.jsxDEV(R,{className:"w-4 h-4 text-red-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:440,columnNumber:27},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:435,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:416,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:415,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:383,columnNumber:19},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:372,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:352,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:351,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:350,columnNumber:7},this),e.jsxDEV(U,{open:Y,onOpenChange:V,children:e.jsxDEV(g,{children:[e.jsxDEV(v,{children:[e.jsxDEV(k,{children:["Supprimer ",l.length," utilisateur(s)"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:456,columnNumber:13},this),e.jsxDEV(A,{children:"Cette action est irréversible. Les comptes sélectionnés seront définitivement supprimés."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:457,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:455,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(n,{variant:"outline",onClick:()=>V(!1),disabled:t,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:462,columnNumber:13},this),e.jsxDEV(n,{variant:"destructive",onClick:ae,disabled:t||l.length===0,children:t?"Suppression...":"Supprimer"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:465,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:461,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:454,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:453,columnNumber:7},this),e.jsxDEV(U,{open:Q,onOpenChange:h,children:e.jsxDEV(g,{children:[e.jsxDEV(v,{children:[e.jsxDEV(k,{children:"Ajouter du crédit"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:476,columnNumber:13},this),e.jsxDEV(A,{children:["Ajouter des pièces (Ⓐ) au compte de ",i==null?void 0:i.email]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:477,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:475,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Solde actuel"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:483,columnNumber:15},this),e.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:[Math.floor((i==null?void 0:i.balance)||0)," Ⓐ"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:484,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:482,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Montant à ajouter"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:489,columnNumber:15},this),e.jsxDEV(w,{type:"number",placeholder:"Ex: 100",value:p,onChange:s=>M(s.target.value),min:"0",step:"1"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:490,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:488,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Note (optionnel)"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:500,columnNumber:15},this),e.jsxDEV(w,{placeholder:"Ex: Bonus de bienvenue",value:_,onChange:s=>y(s.target.value)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:501,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:499,columnNumber:13},this),p&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Nouveau solde"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:509,columnNumber:17},this),e.jsxDEV("p",{className:"text-xl font-bold text-blue-600",children:[Math.floor(((i==null?void 0:i.balance)||0)+parseFloat(p||"0"))," Ⓐ"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:510,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:508,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:481,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(n,{variant:"outline",onClick:()=>h(!1),disabled:t,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:517,columnNumber:13},this),e.jsxDEV(n,{onClick:re,disabled:t||!p,children:t?"Ajout...":"Ajouter"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:524,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:516,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:474,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:473,columnNumber:7},this),e.jsxDEV(U,{open:W,onOpenChange:S,children:e.jsxDEV(g,{children:[e.jsxDEV(v,{children:[e.jsxDEV(k,{children:(i==null?void 0:i.role)==="banned"?"Débannir l'utilisateur":"Bannir l'utilisateur"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:538,columnNumber:13},this),e.jsxDEV(A,{children:(i==null?void 0:i.role)==="banned"?`Êtes-vous sûr de vouloir débannir ${i==null?void 0:i.email} ? L'utilisateur pourra à nouveau accéder à la plateforme.`:`Êtes-vous sûr de vouloir bannir ${i==null?void 0:i.email} ? L'utilisateur ne pourra plus accéder à la plateforme.`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:541,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:537,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(n,{variant:"outline",onClick:()=>S(!1),disabled:t,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:549,columnNumber:13},this),e.jsxDEV(n,{variant:(i==null?void 0:i.role)==="banned"?"default":"destructive",onClick:me,disabled:t,children:t?"Traitement...":(i==null?void 0:i.role)==="banned"?"Débannir":"Bannir"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:556,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:548,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:536,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:535,columnNumber:7},this),e.jsxDEV(U,{open:X,onOpenChange:D,children:e.jsxDEV(g,{children:[e.jsxDEV(v,{children:[e.jsxDEV(k,{children:"Supprimer l'utilisateur"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:571,columnNumber:13},this),e.jsxDEV(A,{children:["Êtes-vous sûr de vouloir supprimer définitivement ",i==null?void 0:i.email," ? Cette action est irréversible."]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:572,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:570,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(n,{variant:"outline",onClick:()=>D(!1),disabled:t,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:577,columnNumber:13},this),e.jsxDEV(n,{variant:"destructive",onClick:te,disabled:t,children:t?"Suppression...":"Supprimer"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:584,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:576,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:569,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:568,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:278,columnNumber:5},this)}export{ve as default};
