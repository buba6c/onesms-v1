import{ap as w,a as ne,b as oe,r as v,g as R,j as e,B as N,R as X,k,aq as ie,I as q,L as j,i as A,ar as le,as as de,c as D,s as ce}from"./index-CJNHpMcx.js";import{c as M,g as B}from"./logo-service-D-UU2wJF.js";import{P as me}from"./plus-BhivJFUF.js";function ue(r){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}Array(12).fill(0);let z=1;class fe{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const s=this.subscribers.indexOf(a);this.subscribers.splice(s,1)}),this.publish=a=>{this.subscribers.forEach(s=>s(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var s;const{message:i,...d}=a,m=typeof(a==null?void 0:a.id)=="number"||((s=a.id)==null?void 0:s.length)>0?a.id:z++,n=this.toasts.find(l=>l.id===m),b=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(m)&&this.dismissedToasts.delete(m),n?this.toasts=this.toasts.map(l=>l.id===m?(this.publish({...l,...a,id:m,title:i}),{...l,...a,id:m,dismissible:b,title:i}):l):this.addToast({title:i,...d,dismissible:b,id:m}),m},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:a,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),a),this.message=(a,s)=>this.create({...s,message:a}),this.error=(a,s)=>this.create({...s,message:a,type:"error"}),this.success=(a,s)=>this.create({...s,type:"success",message:a}),this.info=(a,s)=>this.create({...s,type:"info",message:a}),this.warning=(a,s)=>this.create({...s,type:"warning",message:a}),this.loading=(a,s)=>this.create({...s,type:"loading",message:a}),this.promise=(a,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:a,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const d=Promise.resolve(a instanceof Function?a():a);let m=i!==void 0,n;const b=d.then(async c=>{if(n=["resolve",c],w.isValidElement(c))m=!1,this.create({id:i,type:"default",message:c});else if(ge(c)&&!c.ok){m=!1;const u=typeof s.error=="function"?await s.error(`HTTP error! status: ${c.status}`):s.error,x=typeof s.description=="function"?await s.description(`HTTP error! status: ${c.status}`):s.description,S=typeof u=="object"&&!w.isValidElement(u)?u:{message:u};this.create({id:i,type:"error",description:x,...S})}else if(c instanceof Error){m=!1;const u=typeof s.error=="function"?await s.error(c):s.error,x=typeof s.description=="function"?await s.description(c):s.description,S=typeof u=="object"&&!w.isValidElement(u)?u:{message:u};this.create({id:i,type:"error",description:x,...S})}else if(s.success!==void 0){m=!1;const u=typeof s.success=="function"?await s.success(c):s.success,x=typeof s.description=="function"?await s.description(c):s.description,S=typeof u=="object"&&!w.isValidElement(u)?u:{message:u};this.create({id:i,type:"success",description:x,...S})}}).catch(async c=>{if(n=["reject",c],s.error!==void 0){m=!1;const p=typeof s.error=="function"?await s.error(c):s.error,u=typeof s.description=="function"?await s.description(c):s.description,g=typeof p=="object"&&!w.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:u,...g})}}).finally(()=>{m&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),l=()=>new Promise((c,p)=>b.then(()=>n[0]==="reject"?p(n[1]):c(n[1])).catch(p));return typeof i!="string"&&typeof i!="number"?{unwrap:l}:Object.assign(i,{unwrap:l})},this.custom=(a,s)=>{const i=(s==null?void 0:s.id)||z++;return this.create({jsx:a(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const h=new fe,pe=(r,a)=>{const s=(a==null?void 0:a.id)||z++;return h.addToast({title:r,...a,id:s}),s},ge=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",Ne=pe,be=()=>h.toasts,xe=()=>h.getActiveToasts(),V=Object.assign(Ne,{success:h.success,info:h.info,warning:h.warning,error:h.error,custom:h.custom,message:h.message,promise:h.promise,dismiss:h.dismiss,loading:h.loading},{getHistory:be,getToasts:xe});ue("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const H=[{hours:4,label:"4hours",description:"quickRental",price:0},{hours:24,label:"1day",description:"24hours",price:0},{hours:168,label:"1week",description:"7days",price:0},{hours:720,label:"1month",description:"30days",price:0}],Ve=()=>{const{t:r}=ne(),{user:a}=oe(),[s,i]=v.useState("country"),[d,m]=v.useState(null),[n,b]=v.useState(null),[l,c]=v.useState(null),[p,u]=v.useState(""),[x,g]=v.useState(""),[S,C]=v.useState(!1),[L,K]=v.useState(null),{data:F=[],isLoading:Q}=R({queryKey:["rent-countries-api"],queryFn:async()=>{const{data:t,error:o}=await D.invoke("get-rent-services",{body:{getCountries:!0,rentTime:"4"}});if(o||!(t!=null&&t.success))throw new Error((t==null?void 0:t.error)||"Failed to fetch rent countries");return t.countries},staleTime:3e5}),{data:U,isLoading:G,refetch:ve}=R({queryKey:["rent-services-api",n==null?void 0:n.id],queryFn:async()=>{if(!n)return{services:[],availableServices:[]};const{data:t,error:o}=await D.invoke("get-rent-services",{body:{country:n.id.toString(),rentTime:"4"}});if(o||!(t!=null&&t.success))throw new Error((t==null?void 0:t.error)||"Failed to fetch rent services");return{services:t.services||{},availableServices:t.availableServices||[]}},enabled:!!n,staleTime:6e4}),{data:Y=[],isLoading:J,refetch:O}=R({queryKey:["rentals",a==null?void 0:a.id],queryFn:async()=>{const{data:t,error:o}=await ce.from("rentals").select("*").eq("user_id",a==null?void 0:a.id).order("created_at",{ascending:!1});if(o)throw o;return t},enabled:!!a}),{data:y,isLoading:T}=R({queryKey:["rent-prices",d==null?void 0:d.code,n==null?void 0:n.id],queryFn:async()=>{if(!(d!=null&&d.code)||!(n!=null&&n.id))return null;const t={};return await Promise.all(H.map(async o=>{try{const{data:f}=await D.invoke("get-rent-services",{body:{rentTime:o.hours.toString(),country:n.id.toString()}});if(f!=null&&f.services){const E=f.services[d.code];E&&(t[o.hours]={price:E.sellingPrice||Math.ceil(E.cost*1.3*100)/100,available:E.available||0})}}catch(f){console.warn(`Erreur récupération prix ${o.hours}h:`,f)}})),t},enabled:!!(d!=null&&d.code)&&!!(n!=null&&n.id)&&s==="duration",staleTime:6e4}),W=v.useMemo(()=>H.map(t=>{var o,f;return{...t,price:((o=y==null?void 0:y[t.hours])==null?void 0:o.price)??0,available:((f=y==null?void 0:y[t.hours])==null?void 0:f.available)??0,loading:T&&!(y&&y[t.hours])}}),[y,T]),I=((U==null?void 0:U.availableServices)||[]).filter(t=>t.code.toLowerCase().includes(p.toLowerCase())||t.name&&t.name.toLowerCase().includes(p.toLowerCase())),Z=async t=>{try{const{data:o,error:f}=await D.invoke("get-sms-activate-inbox",{body:{rentalId:t,userId:a==null?void 0:a.id}});if(f||!(o!=null&&o.success))throw new Error((o==null?void 0:o.error)||"Failed to fetch inbox");return o.data.messages}catch(o){return V.error(o.message||"Failed to fetch inbox"),[]}},ee=F.filter(t=>t.name.toLowerCase().includes(x.toLowerCase())),te=async()=>{if(!(!d||!n||!l)){C(!0);try{const{data:t,error:o}=await D.invoke("rent-sms-activate-number",{body:{service:d.code,country:n.id.toString(),rentHours:l.hours,userId:a==null?void 0:a.id}});if(o||!(t!=null&&t.success))throw new Error((t==null?void 0:t.error)||"Rental failed");V.success("Number rented!",{description:`${t.data.phone} - Active for ${l.label}`}),i("country"),m(null),b(null),c(null),O()}catch(t){V.error("Rental failed",{description:t.message})}finally{C(!1)}}},se=async t=>{try{const{data:o,error:f}=await D.invoke("continue-sms-activate-rent",{body:{rentalId:t,userId:a==null?void 0:a.id}});if(f||!(o!=null&&o.success))throw new Error((o==null?void 0:o.error)||"Extension failed");V.success("Rental extended!",{description:`New end: ${new Date(o.data.end_date).toLocaleString()}`}),O()}catch(o){V.error(r("rent.extensionFailed"),{description:o.message})}},ae=t=>{navigator.clipboard.writeText(t),V.success(r("rent.copied"))},re=t=>{const o=new Date(t).getTime()-Date.now();if(o<=0)return r("rent.expired");const f=Math.floor(o/1e3),E=Math.floor(f/3600),$=Math.floor(f%3600/60),_=f%60;return E>24?`${Math.floor(E/24)}j ${E%24}h`:E>0?`${E}h ${$}m`:$>0?`${$}m ${_}s`:`${_}s`};return e.jsxDEV("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:r("rent.title")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:209,columnNumber:9},void 0),e.jsxDEV(N,{onClick:()=>O(),variant:"outline",size:"sm",children:[e.jsxDEV(X,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:210,columnNumber:78},void 0),r("rent.refresh")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:210,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:208,columnNumber:7},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:r("rent.activeRentals")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:214,columnNumber:9},void 0),J?e.jsxDEV(k,{className:"p-4",children:r("rent.loading")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:215,columnNumber:27},void 0):Y.length===0?e.jsxDEV(k,{className:"p-8 text-center",children:[e.jsxDEV(ie,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:216,columnNumber:45},void 0),e.jsxDEV("p",{children:r("rent.noActiveRentals")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:216,columnNumber:109},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:216,columnNumber:11},void 0):e.jsxDEV("div",{className:"grid gap-4",children:Y.map(t=>e.jsxDEV(he,{rental:t,expanded:L===t.id,onToggle:()=>K(L===t.id?null:t.id),onCopy:ae,onExtend:se,onFetchInbox:Z,getRemainingTime:re,t:r},t.id,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:219,columnNumber:31},void 0))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:218,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:213,columnNumber:7},void 0),e.jsxDEV(k,{className:"p-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:r("rent.rentNewNumber")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:225,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-center mb-6 gap-2",children:[e.jsxDEV(P,{step:1,label:r("rent.steps.country"),active:s==="country"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:227,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-12 h-px bg-border my-auto"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:228,columnNumber:11},void 0),e.jsxDEV(P,{step:2,label:r("rent.steps.service"),active:s==="service"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:229,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-12 h-px bg-border my-auto"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:230,columnNumber:11},void 0),e.jsxDEV(P,{step:3,label:r("rent.steps.duration"),active:s==="duration"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:231,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-12 h-px bg-border my-auto"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:232,columnNumber:11},void 0),e.jsxDEV(P,{step:4,label:r("rent.steps.confirm"),active:s==="confirm"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:233,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:226,columnNumber:9},void 0),s==="country"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:r("rent.countrySelectHint",{count:F.length})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:238,columnNumber:13},void 0),e.jsxDEV(q,{placeholder:r("rent.searchCountry"),value:x,onChange:t=>g(t.target.value)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:239,columnNumber:13},void 0),Q?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[e.jsxDEV(j,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:241,columnNumber:70},void 0),r("rent.loadingCountries")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:241,columnNumber:15},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:ee.map(t=>e.jsxDEV(N,{variant:(n==null?void 0:n.id)===t.id?"default":"outline",className:"justify-start",onClick:()=>{b(t),m(null),i("service")},children:[e.jsxDEV("span",{className:"mr-2",children:M(t.code)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:244,columnNumber:234},void 0),t.name]},t.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:244,columnNumber:43},void 0))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:243,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:237,columnNumber:11},void 0),s==="service"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex gap-2 mb-4",children:[e.jsxDEV(N,{variant:"outline",size:"sm",onClick:()=>{i("country"),b(null)},children:r("rent.back")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:252,columnNumber:46},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[M((n==null?void 0:n.code)||"")," ",n==null?void 0:n.name]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:252,columnNumber:174},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:252,columnNumber:13},void 0),e.jsxDEV(q,{placeholder:r("rent.searchService"),value:p,onChange:t=>u(t.target.value)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:253,columnNumber:13},void 0),G?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[e.jsxDEV(j,{className:"w-6 h-6 animate-spin mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:255,columnNumber:70},void 0),r("rent.loadingServices")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:255,columnNumber:15},void 0):I.length===0?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:r("rent.noServices")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:257,columnNumber:15},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-96 overflow-y-auto",children:I.map(t=>e.jsxDEV(N,{variant:(d==null?void 0:d.code)===t.code?"default":"outline",className:"h-auto py-4 flex flex-col gap-2 relative",onClick:()=>{m(t),i("duration")},children:[e.jsxDEV("img",{src:B(t.code),alt:`Logo ${t.name||t.code}`,className:"w-8 h-8",onError:o=>o.target.src="/placeholder-service.png"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:260,columnNumber:242},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:t.code.toUpperCase()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:260,columnNumber:407},void 0),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[t.available," ",r("rent.available")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:260,columnNumber:474},void 0)]},t.code,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:260,columnNumber:42},void 0))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:259,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:251,columnNumber:11},void 0),s==="duration"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex gap-2 mb-4",children:[e.jsxDEV(N,{variant:"outline",size:"sm",onClick:()=>i("service"),children:r("rent.back")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:268,columnNumber:46},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[M((n==null?void 0:n.code)||"")," ",n==null?void 0:n.name," • ",d==null?void 0:d.code.toUpperCase()]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:268,columnNumber:147},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:268,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid gap-3",children:W.map(t=>e.jsxDEV(N,{variant:(l==null?void 0:l.hours)===t.hours?"default":"outline",className:"h-auto py-4 justify-between",onClick:()=>{c(t),i("confirm")},disabled:t.loading||t.price===0||t.available===0,children:[e.jsxDEV("div",{className:"text-left",children:[e.jsxDEV("div",{className:"font-medium",children:r(`rent.durations.${t.label}`)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:270,columnNumber:314},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[r(`rent.durations.${t.description}`)," ",t.available>0&&`• ${t.available} ${r("rent.available")}`]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:270,columnNumber:381},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:270,columnNumber:287},void 0),t.loading?e.jsxDEV(j,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:270,columnNumber:554},void 0):e.jsxDEV("div",{className:"text-lg font-bold",children:t.price>0?`$${t.price.toFixed(2)}`:r("rent.notAvailable")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:270,columnNumber:600},void 0)]},t.hours,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:270,columnNumber:37},void 0))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:269,columnNumber:13},void 0),T&&e.jsxDEV("p",{className:"text-sm text-muted-foreground text-center",children:r("rent.loadingPrices")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:272,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:267,columnNumber:11},void 0),s==="confirm"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(N,{variant:"outline",size:"sm",onClick:()=>i("duration"),children:r("rent.back")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:278,columnNumber:13},void 0),e.jsxDEV(k,{className:"p-4 space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:[r("rent.country"),":"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:280,columnNumber:53},void 0),e.jsxDEV("span",{className:"font-medium",children:[M((n==null?void 0:n.code)||"")," ",n==null?void 0:n.name]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:280,columnNumber:120},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:280,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:[r("rent.service"),":"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:281,columnNumber:53},void 0),e.jsxDEV("span",{className:"font-medium",children:d==null?void 0:d.code.toUpperCase()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:281,columnNumber:120},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:281,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:[r("rent.duration"),":"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:282,columnNumber:53},void 0),e.jsxDEV("span",{className:"font-medium",children:r(`rent.durations.${l==null?void 0:l.label}`)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:282,columnNumber:121},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:282,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:[r("rent.available"),":"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:283,columnNumber:53},void 0),e.jsxDEV("span",{className:"font-medium",children:[l==null?void 0:l.available," ",r("rent.numbers")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:283,columnNumber:122},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:283,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between text-lg font-bold border-t pt-2 mt-2",children:[e.jsxDEV("span",{children:[r("rent.total"),":"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:284,columnNumber:90},void 0),e.jsxDEV("span",{children:["$",l==null?void 0:l.price.toFixed(2)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:284,columnNumber:121},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:284,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:279,columnNumber:13},void 0),e.jsxDEV(N,{onClick:te,disabled:S,className:"w-full",size:"lg",children:S?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(j,{className:"w-4 h-4 animate-spin mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:286,columnNumber:105},void 0),r("rent.renting")]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:286,columnNumber:103},void 0):r("rent.confirmRental")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:286,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:277,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:224,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:207,columnNumber:5},void 0)},P=({step:r,label:a,active:s})=>e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:r},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:295,columnNumber:47},void 0),e.jsxDEV("span",{className:`text-xs mt-1 ${s?"text-primary font-medium":"text-muted-foreground"}`,children:a},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:295,columnNumber:232},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:295,columnNumber:3},void 0),he=({rental:r,expanded:a,onToggle:s,onCopy:i,onExtend:d,onFetchInbox:m,getRemainingTime:n,t:b})=>{const[l,c]=v.useState([]),[p,u]=v.useState(!1),x=async()=>{a||(u(!0),c(await m(r.id)),u(!1)),s()};return e.jsxDEV(k,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxDEV("img",{src:B(r.service_code),alt:`Service ${r.service_code}`,className:"w-10 h-10"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:305,columnNumber:57},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:r.phone},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:305,columnNumber:171},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[r.service_code," • ",r.country_code]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:305,columnNumber:220},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:305,columnNumber:166},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:305,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"text-right mr-4",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:n(r.end_date)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:83},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["$",r.price.toFixed(2)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:161},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:50},void 0),e.jsxDEV(N,{variant:"outline",size:"sm",onClick:()=>i(r.phone),children:e.jsxDEV(A,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:317},void 0)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:246},void 0),e.jsxDEV(N,{variant:"outline",size:"sm",onClick:()=>d(r.id),children:e.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:423},void 0)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:353},void 0),e.jsxDEV(N,{variant:"ghost",size:"sm",onClick:x,children:a?e.jsxDEV(le,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:526},void 0):e.jsxDEV(de,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:559},void 0)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:459},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:306,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:304,columnNumber:7},void 0),a&&e.jsxDEV("div",{className:"mt-4 pt-4 border-t space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between mb-2",children:[e.jsxDEV("h4",{className:"font-medium",children:[b("rent.smsInbox")," (",l.length,")"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:107},void 0),e.jsxDEV(N,{variant:"outline",size:"sm",onClick:x,disabled:p,children:e.jsxDEV(X,{className:`w-3 h-3 ${p?"animate-spin":""}`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:258},void 0)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:180},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:64},void 0),p?e.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:b("rent.loading")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:345},void 0):l.length===0?e.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:b("rent.noMessages")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:447},void 0):e.jsxDEV("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map((g,S)=>e.jsxDEV(k,{className:"p-3",children:[e.jsxDEV("div",{className:"flex justify-between mb-1",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:g.service},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:678},void 0),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:new Date(g.date).toLocaleString()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:744},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:635},void 0),e.jsxDEV("div",{className:"text-sm",children:g.text},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:840},void 0),g.code&&e.jsxDEV("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-sm font-mono",children:g.code},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:934},void 0),e.jsxDEV(N,{variant:"ghost",size:"sm",onClick:()=>i(g.code),children:e.jsxDEV(A,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:1076},void 0)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:1012},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:888},void 0)]},S,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:605},void 0))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:532},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:308,columnNumber:18},void 0)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/RentPage.tsx",lineNumber:303,columnNumber:5},void 0)};export{Ve as default};
