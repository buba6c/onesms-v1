import{x as z,r as t,s as i,j as e,U as T,aL as F,a0 as S,aP as K,aT as E,bh as H,aU as G}from"./index-Bvkzdf-K.js";import{T as J}from"./toggle-left-BhwpT24a.js";import{S as Q}from"./settings-BZ3grqQN.js";import{H as P}from"./history-C9jRH_iM.js";import{S as W}from"./save-DAVNG1Vc.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=z("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);function re(){const[D,V]=t.useState([]),[k,w]=t.useState(!0),[c,o]=t.useState(null),[m,A]=t.useState(null),[M,b]=t.useState(!1),[j,f]=t.useState(!1),[h,U]=t.useState([]),[d,g]=t.useState({}),[N,y]=t.useState(null),[u,v]=t.useState(!1);t.useEffect(()=>{p(),O()},[]);const O=async()=>{try{const{data:s,error:r}=await i.from("system_settings").select("value").eq("key","stock_shortage_mode").single();s&&v(s.value==="true")}catch(s){console.error("Error loading stock shortage mode:",s)}},_=async()=>{var s;o("stock_shortage");try{const r=!u,{data:a}=await i.from("system_settings").select("id").eq("key","stock_shortage_mode").single();let l;if(a){const{error:x}=await i.from("system_settings").update({value:String(r)}).eq("key","stock_shortage_mode");l=x}else{const{error:x}=await i.from("system_settings").insert({key:"stock_shortage_mode",value:String(r),description:"Active le mode rupture de stock pour bloquer les recharges"});l=x}if(l)throw l;v(r),n("success",`Mode Rupture de Stock ${r?"ACTIVÉ":"DÉSACTIVÉ"}`),await i.from("admin_logs").insert({admin_id:(s=(await i.auth.getUser()).data.user)==null?void 0:s.id,action:"toggle_stock_shortage",details:{value:r}})}catch(r){console.error("Error toggling stock shortage:",r),n("error","Impossible de modifier le mode rupture de stock")}finally{o(null)}},p=async()=>{try{const{data:s,error:r}=await i.from("payment_providers").select("*").order("priority",{ascending:!0});if(r)throw r;V(s||[])}catch(s){console.error("Error loading providers:",s),n("error","Erreur lors du chargement des fournisseurs")}finally{w(!1)}},C=async s=>{try{const{data:r,error:a}=await i.from("payment_provider_logs").select("*").eq("provider_id",s).order("created_at",{ascending:!1}).limit(20);if(a)throw a;U(r||[]),f(!0)}catch(r){console.error("Error loading logs:",r)}},n=(s,r)=>{y({type:s,text:r}),setTimeout(()=>y(null),5e3)},I=async s=>{var r;o(s.id);try{const a=!s.is_active,{error:l}=await i.from("payment_providers").update({is_active:a}).eq("id",s.id);if(l)throw l;await i.from("payment_provider_logs").insert({provider_id:s.id,admin_id:(r=(await i.auth.getUser()).data.user)==null?void 0:r.id,action:a?"activated":"deactivated",old_value:{is_active:s.is_active},new_value:{is_active:a}}),await p(),n("success",`${s.provider_name} ${a?"activé":"désactivé"}`)}catch(a){console.error("Error toggling provider:",a),n("error","Erreur lors de la modification")}finally{o(null)}},q=async s=>{var r;o(s.id);try{await i.from("payment_providers").update({is_default:!1}).neq("id",s.id);const{error:a}=await i.from("payment_providers").update({is_default:!0,is_active:!0}).eq("id",s.id);if(a)throw a;await i.from("payment_provider_logs").insert({provider_id:s.id,admin_id:(r=(await i.auth.getUser()).data.user)==null?void 0:r.id,action:"set_default",old_value:{is_default:s.is_default},new_value:{is_default:!0}}),await p(),n("success",`${s.provider_name} défini comme fournisseur par défaut`)}catch(a){console.error("Error setting default:",a),n("error","Erreur lors de la modification")}finally{o(null)}},L=s=>{A(s),g(s.config||{}),b(!0)},$=async()=>{var s;if(m){o(m.id);try{const{error:r}=await i.from("payment_providers").update({config:d}).eq("id",m.id);if(r)throw r;await i.from("payment_provider_logs").insert({provider_id:m.id,admin_id:(s=(await i.auth.getUser()).data.user)==null?void 0:s.id,action:"updated_config",old_value:m.config,new_value:d}),await p(),b(!1),n("success","Configuration sauvegardée")}catch(r){console.error("Error saving config:",r),n("error","Erreur lors de la sauvegarde")}finally{o(null)}}},R=s=>({paydunya:[{key:"master_key",label:"Master Key",type:"password",placeholder:"wQzk9ZwR-Qq9m-..."},{key:"private_key",label:"Private Key",type:"password",placeholder:"test_private_..."},{key:"token",label:"Token",type:"password",placeholder:"IivOiOxGJuWhc5znlIiK"},{key:"mode",label:"Mode",type:"select",placeholder:"test|live"},{key:"callback_url",label:"Callback URL",type:"text",placeholder:"https://..."}],moneyfusion:[{key:"api_key",label:"API Key",type:"password",placeholder:"mf_..."},{key:"api_secret",label:"API Secret",type:"password",placeholder:"..."},{key:"merchant_id",label:"Merchant ID",type:"text",placeholder:"MF123456"},{key:"webhook_url",label:"Webhook URL",type:"text",placeholder:"https://..."}],paytech:[{key:"api_key",label:"API Key",type:"password",placeholder:"pt_..."},{key:"api_secret",label:"API Secret",type:"password",placeholder:"..."},{key:"env",label:"Environment",type:"select",placeholder:"test|prod"}],moneroo:[{key:"test_mode",label:"Mode",type:"select",placeholder:"true|false"},{key:"api_url",label:"API URL",type:"text",placeholder:"https://api.moneroo.io/v1"}]})[s]||[];return k?e.jsxDEV("div",{className:"flex items-center justify-center h-64",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:303,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:302,columnNumber:7},this):e.jsxDEV("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxDEV("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsxDEV(T,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:314,columnNumber:13},this),"Fournisseurs de Paiement"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:313,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Gérez les passerelles de paiement disponibles pour vos utilisateurs"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:317,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:312,columnNumber:9},this),e.jsxDEV("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl border-2 transition-colors ${u?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:`text-sm font-bold ${u?"text-red-800":"text-gray-700"}`,children:"Mode Rupture de Stock"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:328,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs text-gray-500",children:u?"Recharges bloquées":"Recharges actives"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:332,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:327,columnNumber:11},this),e.jsxDEV("button",{onClick:_,disabled:c==="stock_shortage",className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ${u?"bg-red-600":"bg-gray-200"}`,children:e.jsxDEV("span",{className:`${u?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:342,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:336,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:323,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:311,columnNumber:7},this),N&&e.jsxDEV("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${N.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[N.type==="success"?e.jsxDEV(F,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:357,columnNumber:13},this):e.jsxDEV(S,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:359,columnNumber:13},this),e.jsxDEV("span",{children:N.text},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:361,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:352,columnNumber:9},this),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:D.map(s=>e.jsxDEV("div",{className:`bg-white rounded-xl shadow-sm border-2 p-6 transition-all ${s.is_active?"border-green-500 shadow-green-100":"border-gray-200 opacity-75"}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[s.logo_url?e.jsxDEV("img",{src:s.logo_url,alt:s.provider_name,className:"w-12 h-12 rounded-lg object-contain bg-gray-50 p-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:379,columnNumber:19},this):e.jsxDEV("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsxDEV(K,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:386,columnNumber:21},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:385,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-900 flex items-center gap-2",children:[s.provider_name,s.is_default&&e.jsxDEV(E,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:393,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:390,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:s.provider_code},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:396,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:389,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:377,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>I(s),disabled:c===s.id,className:`p-2 rounded-lg transition-colors ${s.is_active?"bg-green-100 hover:bg-green-200 text-green-700":"bg-gray-100 hover:bg-gray-200 text-gray-500"}`,children:c===s.id?e.jsxDEV("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-current border-t-transparent"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:410,columnNumber:19},this):s.is_active?e.jsxDEV(Z,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:412,columnNumber:19},this):e.jsxDEV(J,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:414,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:376,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.description||"Aucune description disponible"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:420,columnNumber:13},this),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Moyens de paiement supportés:"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:426,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[s.supported_methods.slice(0,4).map(r=>e.jsxDEV("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:r.replace(/-/g," ").substring(0,10)},r,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:431,columnNumber:19},this)),s.supported_methods.length>4&&e.jsxDEV("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",s.supported_methods.length-4]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:439,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:429,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:425,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 mb-4 p-2 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${s.is_active?"bg-green-500":"bg-gray-400"}`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:448,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:s.is_active?"Actif":"Inactif"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:450,columnNumber:15},this),s.is_default&&e.jsxDEV("span",{className:"ml-auto text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Par défaut"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:454,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:447,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>L(s),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsxDEV(Q,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:466,columnNumber:17},this),"Configurer"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:462,columnNumber:15},this),!s.is_default&&s.is_active&&e.jsxDEV("button",{onClick:()=>q(s),disabled:c===s.id,className:"px-3 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors text-sm",title:"Définir comme défaut",children:e.jsxDEV(E,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:477,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:471,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>C(s.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",title:"Voir l'historique",children:e.jsxDEV(P,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:486,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:481,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:461,columnNumber:13},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:368,columnNumber:11},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:366,columnNumber:7},this),M&&m&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:["Configuration ",m.provider_name]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:498,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:"Configurez les clés API et paramètres du fournisseur"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:501,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:497,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 space-y-4",children:[R(m.provider_code).map(s=>e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.label},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:509,columnNumber:19},this),s.type==="select"?e.jsxDEV("select",{value:String(d[s.key]||""),onChange:r=>{const a=r.target.value,l=s.key==="test_mode"?a==="true":a;g({...d,[s.key]:l})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:"Sélectionner..."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:525,columnNumber:23},this),s.placeholder.split("|").map(r=>e.jsxDEV("option",{value:r,children:r},r,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:527,columnNumber:25},this))]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:513,columnNumber:21},this):e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:s.type,value:d[s.key]||"",onChange:r=>g({...d,[s.key]:r.target.value}),placeholder:s.placeholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:532,columnNumber:23},this),s.type==="password"&&e.jsxDEV("button",{type:"button",onClick:()=>{const r=document.querySelector(`input[placeholder="${s.placeholder}"]`);r&&(r.type=r.type==="password"?"text":"password")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d[s.key]?e.jsxDEV(H,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:550,columnNumber:52},this):e.jsxDEV(G,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:550,columnNumber:85},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:540,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:531,columnNumber:21},this)]},s.key,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:508,columnNumber:17},this)),e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:560,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-yellow-800",children:[e.jsxDEV("p",{className:"font-medium mb-1",children:"⚠️ Attention"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:562,columnNumber:21},this),e.jsxDEV("p",{children:"Les clés API sont sensibles. Ne les partagez jamais et stockez-les de manière sécurisée."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:563,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:561,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:559,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:558,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:506,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 flex gap-3 sticky bottom-0 bg-white",children:[e.jsxDEV("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:570,columnNumber:15},this),e.jsxDEV("button",{onClick:$,disabled:c===m.id,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:c===m.id?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:583,columnNumber:21},this),"Enregistrement..."]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:582,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(W,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:588,columnNumber:21},this),"Enregistrer"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:587,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:576,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:569,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:496,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:495,columnNumber:9},this),j&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsxDEV(P,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:604,columnNumber:17},this),"Historique des modifications"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:603,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:602,columnNumber:13},this),e.jsxDEV("div",{className:"p-6",children:h.length===0?e.jsxDEV("p",{className:"text-center text-gray-500 py-8",children:"Aucune modification enregistrée"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:611,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-3",children:h.map(s=>e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"font-medium text-gray-900 capitalize",children:s.action.replace(/_/g," ")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:617,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleString("fr-FR")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:620,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:616,columnNumber:23},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:e.jsxDEV("pre",{className:"text-xs bg-white p-2 rounded border border-gray-200 overflow-x-auto",children:JSON.stringify({old:s.old_value,new:s.new_value},null,2)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:625,columnNumber:25},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:624,columnNumber:23},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:615,columnNumber:21},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:613,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:609,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 sticky bottom-0 bg-white",children:e.jsxDEV("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Fermer"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:636,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:635,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:601,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:600,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:309,columnNumber:5},this)}export{re as default};
