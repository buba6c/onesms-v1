import{s as j,u as U,r as u,f as E,j as e,B as g,R as V,i as d,q as o,aA as b,t as v,ac as L,g as y,I as w,p as C}from"./index-7t0jIj9n.js";import{B as x}from"./badge-Ofs191VZ.js";import{D as I}from"./download-2PtOOvtw.js";import{C as _}from"./calendar-D8ocZRh4.js";const q=async(s={})=>{try{let m=j.from("system_logs").select("*").order("created_at",{ascending:!1});s.level&&(m=m.eq("level",s.level)),s.category&&(m=m.eq("category",s.category)),s.userId&&(m=m.eq("user_id",s.userId)),s.startDate&&(m=m.gte("created_at",s.startDate)),s.endDate&&(m=m.lte("created_at",s.endDate)),s.search&&(m=m.ilike("message",`%${s.search}%`));const n=s.limit||50,t=s.offset||0;m=m.range(t,t+n-1);const{data:i,error:c}=await m;if(c)throw c;return i||[]}catch(m){return console.error("Failed to fetch logs:",m),[]}},T=async()=>{try{const{data:s,error:m}=await j.from("system_logs").select("level, category, created_at");if(m)throw m;const n=new Date;n.setHours(0,0,0,0);const t={totalLogs:(s==null?void 0:s.length)||0,errorCount:(s==null?void 0:s.filter(i=>i.level==="error").length)||0,warningCount:(s==null?void 0:s.filter(i=>i.level==="warning").length)||0,todayLogs:(s==null?void 0:s.filter(i=>new Date(i.created_at)>=n).length)||0,byCategory:{}};return s==null||s.forEach(i=>{t.byCategory[i.category]=(t.byCategory[i.category]||0)+1}),t}catch(s){return console.error("Failed to fetch log stats:",s),{totalLogs:0,errorCount:0,warningCount:0,todayLogs:0,byCategory:{}}}},F=s=>{const m=["ID","Level","Category","Message","User ID","Created At","Metadata"],n=s.map(i=>[i.id,i.level,i.category,i.message.replace(/,/g,";"),i.user_id||"N/A",new Date(i.created_at).toLocaleString(),JSON.stringify(i.metadata).replace(/,/g,";")]);return[m.join(","),...n.map(i=>i.join(","))].join(`
`)},B=(s,m="system-logs.csv")=>{const n=new Blob([s],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),i=URL.createObjectURL(n);t.setAttribute("href",i),t.setAttribute("download",m),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)};function K(){const{toast:s}=U(),[m,n]=u.useState(""),[t,i]=u.useState("all"),[c,k]=u.useState("all"),[r,f]=u.useState(null),{data:N=[],isLoading:A,refetch:M}=E({queryKey:["system-logs",t,c,m],queryFn:async()=>{const a={};return t!=="all"&&(a.level=t),c!=="all"&&(a.category=c),m&&(a.search=m),await q(a)},refetchInterval:1e4}),{data:l}=E({queryKey:["log-stats"],queryFn:T,refetchInterval:3e4}),O=()=>{const a=F(N);B(a,`logs-${new Date().toISOString().split("T")[0]}.csv`),s({title:"✅ Export réussi",description:`${N.length} logs exportés`})},h=a=>{switch(a){case"success":return e.jsxDEV(C,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:67,columnNumber:30},this);case"info":return e.jsxDEV(b,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:68,columnNumber:27},this);case"warning":return e.jsxDEV(L,{className:"w-4 h-4 text-yellow-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:69,columnNumber:30},this);case"error":return e.jsxDEV(v,{className:"w-4 h-4 text-red-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:70,columnNumber:28},this)}},S=a=>({success:"bg-green-100 text-green-800",info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800"})[a],D=a=>{const p={api:"bg-purple-100 text-purple-800",payment:"bg-green-100 text-green-800",user:"bg-blue-100 text-blue-800",sync:"bg-orange-100 text-orange-800",system:"bg-gray-100 text-gray-800",sms:"bg-pink-100 text-pink-800",rent:"bg-indigo-100 text-indigo-800"};return p[a]||p.system};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"System Logs"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:102,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-500",children:"Monitor system activity and errors"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:101,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(g,{variant:"outline",onClick:O,disabled:N.length===0,children:[e.jsxDEV(I,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:107,columnNumber:13},this),"Export CSV"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:106,columnNumber:11},this),e.jsxDEV(g,{onClick:()=>M(),children:[e.jsxDEV(V,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:111,columnNumber:13},this),"Refresh"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:100,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxDEV(d,{children:e.jsxDEV(o,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Total Logs"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:123,columnNumber:17},this),e.jsxDEV("h3",{className:"text-2xl font-bold mt-1",children:(l==null?void 0:l.totalLogs)||0},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:124,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:122,columnNumber:15},this),e.jsxDEV(b,{className:"w-6 h-6 text-blue-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:121,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV(d,{children:e.jsxDEV(o,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Errors"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:135,columnNumber:17},this),e.jsxDEV("h3",{className:"text-2xl font-bold mt-1 text-red-600",children:(l==null?void 0:l.errorCount)||0},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:136,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:134,columnNumber:15},this),e.jsxDEV(v,{className:"w-6 h-6 text-red-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:138,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:133,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:132,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:131,columnNumber:9},this),e.jsxDEV(d,{children:e.jsxDEV(o,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Warnings"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:147,columnNumber:17},this),e.jsxDEV("h3",{className:"text-2xl font-bold mt-1 text-yellow-600",children:(l==null?void 0:l.warningCount)||0},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:146,columnNumber:15},this),e.jsxDEV(L,{className:"w-6 h-6 text-yellow-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:150,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:145,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:144,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:143,columnNumber:9},this),e.jsxDEV(d,{children:e.jsxDEV(o,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Today"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:159,columnNumber:17},this),e.jsxDEV("h3",{className:"text-2xl font-bold mt-1",children:(l==null?void 0:l.todayLogs)||0},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:160,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV(_,{className:"w-6 h-6 text-purple-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:157,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:156,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:118,columnNumber:7},this),e.jsxDEV(d,{children:e.jsxDEV(o,{className:"p-4",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1 relative",children:[e.jsxDEV(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:173,columnNumber:15},this),e.jsxDEV(w,{placeholder:"Rechercher dans les logs...",value:m,onChange:a=>n(a.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:174,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:172,columnNumber:13},this),e.jsxDEV("select",{value:t,onChange:a=>i(a.target.value),className:"px-4 py-2 border rounded-lg",children:[e.jsxDEV("option",{value:"all",children:"Tous les niveaux"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:186,columnNumber:15},this),e.jsxDEV("option",{value:"success",children:"Success"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:187,columnNumber:15},this),e.jsxDEV("option",{value:"info",children:"Info"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:188,columnNumber:15},this),e.jsxDEV("option",{value:"warning",children:"Warning"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV("option",{value:"error",children:"Error"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:181,columnNumber:13},this),e.jsxDEV("select",{value:c,onChange:a=>k(a.target.value),className:"px-4 py-2 border rounded-lg",children:[e.jsxDEV("option",{value:"all",children:"Toutes catégories"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:197,columnNumber:15},this),e.jsxDEV("option",{value:"api",children:"API"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:198,columnNumber:15},this),e.jsxDEV("option",{value:"payment",children:"Paiement"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:199,columnNumber:15},this),e.jsxDEV("option",{value:"user",children:"Utilisateur"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:200,columnNumber:15},this),e.jsxDEV("option",{value:"sync",children:"Sync"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:201,columnNumber:15},this),e.jsxDEV("option",{value:"system",children:"Système"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:202,columnNumber:15},this),e.jsxDEV("option",{value:"sms",children:"SMS"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:203,columnNumber:15},this),e.jsxDEV("option",{value:"rent",children:"Location"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:171,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:170,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:169,columnNumber:7},this),e.jsxDEV(d,{children:A?e.jsxDEV(o,{className:"p-12 text-center",children:[e.jsxDEV(V,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:214,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-500",children:"Chargement des logs..."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:215,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:213,columnNumber:11},this):N.length===0?e.jsxDEV(o,{className:"p-12 text-center",children:[e.jsxDEV(b,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:219,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Aucun log trouvé"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:220,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-500",children:"Essayez de modifier les filtres"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:218,columnNumber:11},this):e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 border-b",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Niveau"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:228,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Catégorie"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:229,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Message"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:230,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:231,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:232,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:227,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:226,columnNumber:15},this),e.jsxDEV("tbody",{className:"divide-y",children:N.map(a=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[h(a.level),e.jsxDEV(x,{className:S(a.level),children:a.level},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:241,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:239,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:238,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV(x,{className:D(a.category),children:a.category},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:247,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:246,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("p",{className:"text-sm font-medium line-clamp-2",children:a.message},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:252,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:251,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("p",{className:"text-sm text-gray-500",children:new Date(a.created_at).toLocaleString()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:257,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:256,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV(g,{variant:"ghost",size:"sm",onClick:()=>f(a),children:"Détails"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:262,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:261,columnNumber:21},this)]},a.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:237,columnNumber:19},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:235,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:225,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:224,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:211,columnNumber:7},this),r&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV(d,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:e.jsxDEV(o,{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-xl font-bold",children:"Log Details"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:284,columnNumber:17},this),e.jsxDEV(g,{variant:"ghost",onClick:()=>f(null),children:"✕"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:285,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:283,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"ID"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:292,columnNumber:19},this),e.jsxDEV("p",{className:"font-mono text-sm",children:r.id},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:293,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Level"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:298,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:[h(r.level),e.jsxDEV(x,{className:S(r.level),children:r.level},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:301,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:297,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Category"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:308,columnNumber:21},this),e.jsxDEV("div",{className:"mt-1",children:e.jsxDEV(x,{className:D(r.category),children:r.category},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:310,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:309,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:307,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:296,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Message"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:318,columnNumber:19},this),e.jsxDEV("p",{className:"mt-1",children:r.message},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:319,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:317,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Date"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:323,columnNumber:19},this),e.jsxDEV("p",{className:"mt-1",children:new Date(r.created_at).toLocaleString()},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:324,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:322,columnNumber:17},this),r.user_id&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"User ID"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:329,columnNumber:21},this),e.jsxDEV("p",{className:"font-mono text-sm mt-1",children:r.user_id},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:330,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:328,columnNumber:19},this),Object.keys(r.metadata||{}).length>0&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Metadata"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:336,columnNumber:21},this),e.jsxDEV("pre",{className:"mt-1 p-4 bg-gray-50 rounded-lg overflow-x-auto text-sm",children:JSON.stringify(r.metadata,null,2)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:337,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:290,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:282,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:281,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:280,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminLogs.tsx",lineNumber:98,columnNumber:5},this)}export{K as default};
