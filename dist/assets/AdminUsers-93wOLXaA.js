import{u as ge,a as ve,r,s as u,aL as X,aQ as Y,ad as ke,j as e,B as m,R as ee,a4 as se,aR as Ae,p as q,V as ie,h as je,I as z,aa as Oe,J as Me,w as ye}from"./index-Bvkzdf-K.js";import{B as ae}from"./badge-LtVdvlU3.js";import{D as A,a as j,b as O,c as M,d as y,e as C}from"./dialog-Cg1gV7jB.js";import{C as Ce}from"./coins-D6bE5Br6.js";function $e(){const{t:we}=ge(),{toast:c}=ve(),[N,w]=r.useState([]),[h,re]=r.useState(""),[x,te]=r.useState("all"),[S,me]=r.useState("all"),[D,I]=r.useState(!0),[d,P]=r.useState(1),[V,ne]=r.useState(0),b=50,[E,le]=r.useState({total:0,active:0,banned:0,admins:0}),[G,J]=r.useState(!0),[ce,U]=r.useState(!1),[oe,g]=r.useState(!1),[de,v]=r.useState(!1),[i,B]=r.useState(null),[f,_]=r.useState(""),[H,L]=r.useState(""),[n,p]=r.useState(!1),[o,R]=r.useState([]),[ue,k]=r.useState(!1);r.useEffect(()=>{const s=setTimeout(()=>{P(1),T(1)},500);return()=>clearTimeout(s)},[h,x,S]),r.useEffect(()=>{$()},[]);const Q=s=>{s<1||s>Math.ceil(V/b)||(P(s),T(s))},$=async()=>{J(!0);try{const[s,a,t,l]=await Promise.all([u.from("users").select("*",{count:"exact",head:!0}),u.from("users").select("*",{count:"exact",head:!0}).neq("role","banned"),u.from("users").select("*",{count:"exact",head:!0}).eq("role","banned"),u.from("users").select("*",{count:"exact",head:!0}).eq("role","admin")]);le({total:s.count||0,active:a.count||0,banned:t.count||0,admins:l.count||0})}catch(s){console.error("Error fetching stats:",s)}J(!1)},T=async(s=d)=>{I(!0);try{let a=u.from("users").select("*",{count:"exact"}).order("created_at",{ascending:!1});h&&(a=a.or(`email.ilike.%${h}%,name.ilike.%${h}%`)),x!=="all"&&(x==="banned"?a=a.eq("role","banned"):x==="active"?a=a.neq("role","banned"):x==="admin"&&(a=a.eq("role","admin"))),S!=="all"&&(S==="positive"?a=a.gt("balance",0):S==="frozen"&&(a=a.gt("frozen_balance",0)));const t=(s-1)*b,l=t+b-1,{data:K,count:Ue,error:W}=await a.range(t,l);if(W)throw W;K&&(w(K),ne(Ue||0))}catch(a){c({title:"Erreur",description:"Impossible de charger les utilisateurs",variant:"destructive"}),console.error(a)}finally{I(!1)}},F=()=>{T(d),$()},Ne=s=>{R(a=>a.includes(s)?a.filter(t=>t!==s):[...a,s])},pe=()=>{if(N.length===0)return;const s=N.map(t=>t.id),a=s.every(t=>o.includes(t));R(a?[]:s)},xe=async()=>{if(o.length!==0){p(!0);try{const{error:s}=await u.from("users").delete().in("id",o);if(s)throw s;c({title:"SuccÃ¨s",description:`${o.length} utilisateur(s) supprimÃ©(s)`}),k(!1),R([]),F()}catch(s){c({title:"Erreur",description:s.message,variant:"destructive"})}finally{p(!1)}}},be=async()=>{if(!i||!f)return;const s=parseFloat(f);if(isNaN(s)||s<=0){c({title:"Erreur",description:"Montant invalide",variant:"destructive"});return}p(!0);try{const{data:a,error:t}=await u.rpc("admin_add_credit",{p_user_id:i.id,p_amount:s,p_admin_note:H||null});if(t)throw t;c({title:"SuccÃ¨s",description:`${s}â’¶ ajoutÃ©s au compte de ${i.email}`}),U(!1),_(""),L(""),w(N.map(l=>l.id===i.id?{...l,balance:(l.balance||0)+s}:l))}catch(a){c({title:"Erreur",description:a.message||"Impossible d'ajouter du crÃ©dit",variant:"destructive"})}finally{p(!1)}},fe=async()=>{if(i){p(!0);try{const s=i.role==="banned",a=s?"user":"banned",{error:t}=await u.from("users").update({role:a}).eq("id",i.id);if(t)throw t;c({title:"SuccÃ¨s",description:s?`${i.email} a Ã©tÃ© dÃ©banni`:`${i.email} a Ã©tÃ© banni`}),g(!1),w(N.map(l=>l.id===i.id?{...l,role:a}:l)),$()}catch(s){c({title:"Erreur",description:s.message,variant:"destructive"})}finally{p(!1)}}},he=async()=>{if(i){p(!0);try{const{error:s}=await u.from("users").delete().eq("id",i.id);if(s)throw s;c({title:"SuccÃ¨s",description:`Utilisateur ${i.email} supprimÃ©`}),v(!1),F()}catch(s){c({title:"Erreur",description:s.message,variant:"destructive"})}finally{p(!1)}}},Se=s=>{B(s),_(""),L(""),U(!0)},De=s=>{B(s),g(!0)},Ee=s=>{B(s),v(!0)},Ve=[{title:"Total Users",value:E.total,icon:X,color:"text-blue-500"},{title:"Active",value:E.active,icon:X,color:"text-green-500"},{title:"Banned",value:E.banned,icon:Y,color:"text-red-500"},{title:"Admins",value:E.admins,icon:ke,color:"text-purple-500"}],Z=Math.ceil(V/b);return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Users Management"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:355,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-500",children:G?"Chargement des stats...":`Total: ${E.total} users`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:356,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:354,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(m,{onClick:F,variant:"outline",disabled:D,children:[e.jsxDEV(ee,{className:`w-4 h-4 mr-2 ${D?"animate-spin":""}`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:362,columnNumber:13},this),"RafraÃ®chir"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:361,columnNumber:11},this),e.jsxDEV(m,{variant:"destructive",disabled:o.length===0,onClick:()=>k(!0),children:[e.jsxDEV(se,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:370,columnNumber:13},this),"Supprimer (",o.length,")"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:365,columnNumber:11},this),e.jsxDEV(m,{children:[e.jsxDEV(Ae,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:374,columnNumber:13},this),"Add User"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:373,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:360,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:353,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Ve.map((s,a)=>e.jsxDEV(q,{children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-500",children:s.title},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:387,columnNumber:19},this),G?e.jsxDEV("div",{className:"h-9 w-16 bg-gray-200 animate-pulse rounded mt-1"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:389,columnNumber:21},this):e.jsxDEV("h3",{className:"text-3xl font-bold mt-1",children:s.value},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:391,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:386,columnNumber:17},this),e.jsxDEV(s.icon,{className:`w-8 h-8 ${s.color}`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:394,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:385,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:384,columnNumber:13},this)},a,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:383,columnNumber:11},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:381,columnNumber:7},this),e.jsxDEV(q,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1 relative",children:[e.jsxDEV(je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:406,columnNumber:15},this),e.jsxDEV(z,{placeholder:"Search by email or name...",value:h,onChange:s=>re(s.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:407,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:405,columnNumber:13},this),e.jsxDEV("select",{value:x,onChange:s=>te(s.target.value),className:"px-4 py-2 border rounded-lg",children:[e.jsxDEV("option",{value:"all",children:"All Status"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:419,columnNumber:15},this),e.jsxDEV("option",{value:"active",children:"Active"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:420,columnNumber:15},this),e.jsxDEV("option",{value:"banned",children:"Banned"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:421,columnNumber:15},this),e.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:422,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:414,columnNumber:13},this),e.jsxDEV("select",{value:S,onChange:s=>me(s.target.value),className:"px-4 py-2 border rounded-lg",children:[e.jsxDEV("option",{value:"all",children:"Tous les soldes"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:429,columnNumber:15},this),e.jsxDEV("option",{value:"positive",children:"Avec Solde (Positif)"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:430,columnNumber:15},this),e.jsxDEV("option",{value:"frozen",children:"Avec Solde GelÃ©"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:431,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:424,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:404,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:403,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:402,columnNumber:7},this),e.jsxDEV(q,{children:[e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 border-b",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:e.jsxDEV("input",{type:"checkbox","aria-label":"SÃ©lectionner tout",checked:N.length>0&&N.every(s=>o.includes(s.id)),onChange:pe},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:444,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:443,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:451,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:452,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:453,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Coins"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:454,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Frozen"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:455,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Login"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:456,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Joined"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:457,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:458,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:442,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:441,columnNumber:13},this),e.jsxDEV("tbody",{className:"divide-y",children:D?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center",children:[e.jsxDEV(ee,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:466,columnNumber:23},this),e.jsxDEV("p",{children:"Chargement des utilisateurs..."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:467,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:465,columnNumber:21},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:464,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:463,columnNumber:17},this):N.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"Aucun utilisateur trouvÃ©"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:473,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:472,columnNumber:17},this):N.map(s=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("input",{type:"checkbox","aria-label":`SÃ©lectionner ${s.email}`,checked:o.includes(s.id),onChange:()=>Ne(s.id)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:479,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:478,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:s.email},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:488,columnNumber:25},this),e.jsxDEV("div",{className:"text-sm text-gray-500",children:s.name||"No name"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:489,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:487,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:486,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV(ae,{variant:s.role==="admin"?"default":"secondary",children:s.role||"user"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:493,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:492,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV(ae,{variant:s.role==="banned"?"destructive":"success",children:s.role==="banned"?"banned":"active"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:498,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:497,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 font-medium text-blue-600",children:[Math.floor(s.balance||0)," â’¶"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:502,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 font-medium text-orange-500",children:s.frozen_balance>0?e.jsxDEV("span",{className:"flex items-center gap-1",children:["ðŸ”’ ",Math.floor(s.frozen_balance)," â’¶"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:505,columnNumber:25},this):e.jsxDEV("span",{className:"text-gray-300",children:"-"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:509,columnNumber:25},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:503,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:s.updated_at?new Date(s.updated_at).toLocaleDateString("fr-FR"):"-"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:512,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:515,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>Se(s),className:"p-1 hover:bg-gray-100 rounded",title:"Ajouter du crÃ©dit",children:e.jsxDEV(Ce,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:525,columnNumber:27},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:520,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>De(s),className:"p-1 hover:bg-gray-100 rounded",title:s.role==="banned"?"DÃ©bannir":"Bannir",children:s.role==="banned"?e.jsxDEV(Oe,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:533,columnNumber:29},this):e.jsxDEV(Y,{className:"w-4 h-4 text-orange-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:535,columnNumber:29},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:527,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>Ee(s),className:"p-1 hover:bg-gray-100 rounded",title:"Supprimer",children:e.jsxDEV(se,{className:"w-4 h-4 text-red-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:543,columnNumber:27},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:538,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:519,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:518,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:477,columnNumber:19},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:461,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:440,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:439,columnNumber:9},this),e.jsxDEV("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[e.jsxDEV("div",{className:"text-sm text-gray-500",children:["Affichage de ",(d-1)*b+1," Ã  ",Math.min(d*b,V)," sur ",V," utilisateurs"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:556,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(m,{variant:"outline",size:"sm",onClick:()=>Q(d-1),disabled:d===1||D,children:[e.jsxDEV(Me,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:566,columnNumber:15},this),"PrÃ©cÃ©dent"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:560,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm font-medium",children:["Page ",d," sur ",Z||1]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:569,columnNumber:13},this),e.jsxDEV(m,{variant:"outline",size:"sm",onClick:()=>Q(d+1),disabled:d>=Z||D,children:["Suivant",e.jsxDEV(ye,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:579,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:572,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:559,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:555,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:438,columnNumber:7},this),e.jsxDEV(A,{open:ue,onOpenChange:k,children:e.jsxDEV(j,{children:[e.jsxDEV(O,{children:[e.jsxDEV(M,{children:["Supprimer ",o.length," utilisateur(s)"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:589,columnNumber:13},this),e.jsxDEV(y,{children:"Cette action est irrÃ©versible. Les comptes sÃ©lectionnÃ©s seront dÃ©finitivement supprimÃ©s."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:590,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:588,columnNumber:11},this),e.jsxDEV(C,{children:[e.jsxDEV(m,{variant:"outline",onClick:()=>k(!1),disabled:n,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:595,columnNumber:13},this),e.jsxDEV(m,{variant:"destructive",onClick:xe,disabled:n||o.length===0,children:n?"Suppression...":"Supprimer"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:598,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:594,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:587,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:586,columnNumber:7},this),e.jsxDEV(A,{open:ce,onOpenChange:U,children:e.jsxDEV(j,{children:[e.jsxDEV(O,{children:[e.jsxDEV(M,{children:"Ajouter du crÃ©dit"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:609,columnNumber:13},this),e.jsxDEV(y,{children:["Ajouter des piÃ¨ces (â’¶) au compte de ",i==null?void 0:i.email]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:610,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:608,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Solde actuel"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:616,columnNumber:15},this),e.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:[Math.floor((i==null?void 0:i.balance)||0)," â’¶"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:617,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:615,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Montant Ã  ajouter"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:622,columnNumber:15},this),e.jsxDEV(z,{type:"number",placeholder:"Ex: 100",value:f,onChange:s=>_(s.target.value),min:"0",step:"1"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:623,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:621,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Note (optionnel)"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:633,columnNumber:15},this),e.jsxDEV(z,{placeholder:"Ex: Bonus de bienvenue",value:H,onChange:s=>L(s.target.value)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:634,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:632,columnNumber:13},this),f&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Nouveau solde"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:642,columnNumber:17},this),e.jsxDEV("p",{className:"text-xl font-bold text-blue-600",children:[Math.floor(((i==null?void 0:i.balance)||0)+parseFloat(f||"0"))," â’¶"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:643,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:641,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:614,columnNumber:11},this),e.jsxDEV(C,{children:[e.jsxDEV(m,{variant:"outline",onClick:()=>U(!1),disabled:n,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:650,columnNumber:13},this),e.jsxDEV(m,{onClick:be,disabled:n||!f,children:n?"Ajout...":"Ajouter"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:657,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:649,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:607,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:606,columnNumber:7},this),e.jsxDEV(A,{open:oe,onOpenChange:g,children:e.jsxDEV(j,{children:[e.jsxDEV(O,{children:[e.jsxDEV(M,{children:(i==null?void 0:i.role)==="banned"?"DÃ©bannir l'utilisateur":"Bannir l'utilisateur"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:671,columnNumber:13},this),e.jsxDEV(y,{children:(i==null?void 0:i.role)==="banned"?`ÃŠtes-vous sÃ»r de vouloir dÃ©bannir ${i==null?void 0:i.email} ? L'utilisateur pourra Ã  nouveau accÃ©der Ã  la plateforme.`:`ÃŠtes-vous sÃ»r de vouloir bannir ${i==null?void 0:i.email} ? L'utilisateur ne pourra plus accÃ©der Ã  la plateforme.`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:674,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:670,columnNumber:11},this),e.jsxDEV(C,{children:[e.jsxDEV(m,{variant:"outline",onClick:()=>g(!1),disabled:n,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:682,columnNumber:13},this),e.jsxDEV(m,{variant:(i==null?void 0:i.role)==="banned"?"default":"destructive",onClick:fe,disabled:n,children:n?"Traitement...":(i==null?void 0:i.role)==="banned"?"DÃ©bannir":"Bannir"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:689,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:681,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:669,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:668,columnNumber:7},this),e.jsxDEV(A,{open:de,onOpenChange:v,children:e.jsxDEV(j,{children:[e.jsxDEV(O,{children:[e.jsxDEV(M,{children:"Supprimer l'utilisateur"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:704,columnNumber:13},this),e.jsxDEV(y,{children:["ÃŠtes-vous sÃ»r de vouloir supprimer dÃ©finitivement ",i==null?void 0:i.email," ? Cette action est irrÃ©versible."]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:705,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:703,columnNumber:11},this),e.jsxDEV(C,{children:[e.jsxDEV(m,{variant:"outline",onClick:()=>v(!1),disabled:n,children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:710,columnNumber:13},this),e.jsxDEV(m,{variant:"destructive",onClick:he,disabled:n,children:n?"Suppression...":"Supprimer"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:717,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:709,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:702,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:701,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminUsers.tsx",lineNumber:351,columnNumber:5},this)}export{$e as default};
