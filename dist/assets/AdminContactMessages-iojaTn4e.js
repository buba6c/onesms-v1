import{x as D,j as e,r,aF as m,a as H,d as B,g as q,h as Y,I as Z,L as j,B as c,J as K,a4 as X,C as W,aZ as $,X as P,a_ as G,a$ as ee,ad as se,b0 as M}from"./index-Bvkzdf-K.js";import{u as y}from"./useMutation-SX1VSpMj.js";import{B as A}from"./badge-LtVdvlU3.js";import{f as h,a as f}from"./fr-BFOigTWa.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=D("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=D("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=D("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),U=({children:i})=>e.jsxDEV(e.Fragment,{children:i},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/components/ui/tooltip.tsx",lineNumber:4,columnNumber:74},void 0),w=({children:i})=>e.jsxDEV("div",{className:"relative inline-flex group",children:i},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/components/ui/tooltip.tsx",lineNumber:7,columnNumber:12},void 0),S=r.forwardRef(({children:i,asChild:u,...n},o)=>e.jsxDEV(e.Fragment,{children:i},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:16},void 0));S.displayName="TooltipTrigger";const v=r.forwardRef(({className:i,children:u,...n},o)=>e.jsxDEV("div",{ref:o,className:m("absolute z-50 overflow-hidden rounded-md bg-slate-900 px-3 py-1.5 text-xs text-slate-50 shadow-md animate-in fade-in-0 zoom-in-95","invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-all duration-200","bottom-full left-1/2 -translate-x-1/2 mb-2 whitespace-nowrap",i),...n,children:u},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/components/ui/tooltip.tsx",lineNumber:25,columnNumber:5},void 0));v.displayName="TooltipContent";function le(){const{toast:i}=H(),u=B(),[n,o]=r.useState(null),[N,I]=r.useState(""),[p,T]=r.useState("all"),[z,x]=r.useState(!1),[b,E]=r.useState(""),[V,C]=r.useState(!1),{data:d=[],isLoading:F}=q({queryKey:["admin-contact-messages"],queryFn:()=>M.getAllMessages("all"),refetchInterval:3e4}),g=y({mutationFn:({id:s,status:t})=>M.updateMessageStatus(s,t),onSuccess:(s,t)=>{u.invalidateQueries({queryKey:["admin-contact-messages"]}),t.status==="archived"&&(i({title:"Message archivé"}),n===t.id&&o(null))}}),R=y({mutationFn:s=>M.deleteMessage(s),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-contact-messages"]}),i({title:"Message supprimé"}),o(null)}}),k=r.useMemo(()=>{let s=d;if(p!=="all"&&(s=s.filter(t=>t.status===p)),N){const t=N.toLowerCase();s=s.filter(l=>l.name.toLowerCase().includes(t)||l.email.toLowerCase().includes(t)||l.subject.toLowerCase().includes(t)||l.message.toLowerCase().includes(t))}return s.sort((t,l)=>new Date(l.created_at).getTime()-new Date(t.created_at).getTime())},[d,p,N]),a=r.useMemo(()=>d.find(s=>s.id===n),[d,n]),L=s=>{o(s);const t=d.find(l=>l.id===s);t&&t.status==="new"&&g.mutate({id:s,status:"read"})},J=async()=>{if(!(!a||!b.trim())){C(!0);try{const s="https://api.onesms-sn.com",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh0ZnFtYW12bWhkb2l4cWNiYmJ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2MjQ4MjgsImV4cCI6MjA3OTIwMDgyOH0.HQ5KsI86nrDidy4XLh1OnOSpM8c1ZnY3fYo-UF5Jtyg";if(!(await fetch(`${s}/functions/v1/send-email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,apikey:t},body:JSON.stringify({type:"admin_reply",email:a.email,data:{name:a.name,originalSubject:a.subject,replyMessage:b}})})).ok)throw new Error("Failed to send");await g.mutateAsync({id:a.id,status:"replied"}),i({title:"Réponse envoyée avec succès"}),x(!1),E("")}catch{i({title:"Erreur",description:"L'envoi a échoué",variant:"destructive"})}finally{C(!1)}}},Q=s=>s.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2),_=s=>{switch(s){case"new":return"bg-blue-500";case"replied":return"bg-green-500";case"archived":return"bg-gray-400";default:return"bg-secondary"}};return e.jsxDEV("div",{className:"flex h-[calc(100vh-6rem)] bg-white rounded-xl shadow-sm border overflow-hidden",children:[e.jsxDEV("div",{className:m("w-full md:w-1/3 min-w-[320px] flex flex-col border-r bg-gray-50/50",n?"hidden md:flex":"flex"),children:[e.jsxDEV("div",{className:"p-4 border-b space-y-4 bg-white",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h1",{className:"text-xl font-bold text-slate-800",children:"Boîte de réception"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:193,columnNumber:13},this),e.jsxDEV(A,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[d.filter(s=>s.status==="new").length," nouveaux"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:194,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:192,columnNumber:11},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:200,columnNumber:13},this),e.jsxDEV(Z,{value:N,onChange:s=>I(s.target.value),placeholder:"Rechercher...",className:"pl-9 bg-gray-50 border-gray-200 focus:bg-white transition-all"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:199,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[{id:"all",label:"Tout"},{id:"new",label:"Non lus"},{id:"replied",label:"Répondus"},{id:"archived",label:"Archivés"}].map(s=>e.jsxDEV("button",{onClick:()=>T(s.id),className:m("px-3 py-1.5 text-xs font-medium rounded-full transition-colors whitespace-nowrap",p===s.id?"bg-slate-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:s.label},s.id,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:216,columnNumber:15},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:191,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:F?e.jsxDEV("div",{className:"flex items-center justify-center h-40",children:e.jsxDEV(j,{className:"w-6 h-6 animate-spin text-blue-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:236,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:235,columnNumber:13},this):k.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-8 text-center",children:[e.jsxDEV(ae,{className:"w-12 h-12 mb-2 opacity-50"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:240,columnNumber:15},this),e.jsxDEV("p",{children:"Aucun message trouvé"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:239,columnNumber:13},this):e.jsxDEV("div",{className:"divide-y divide-gray-100",children:k.map(s=>e.jsxDEV("div",{onClick:()=>L(s.id),className:m("group p-4 cursor-pointer hover:bg-white transition-all relative",n===s.id?"bg-white border-l-4 border-l-blue-600 shadow-sm z-10":"bg-transparent border-l-4 border-l-transparent",s.status==="new"&&n!==s.id?"bg-blue-50/40":""),children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsxDEV("div",{className:m("w-2 h-2 rounded-full flex-shrink-0",_(s.status))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:257,columnNumber:23},this),e.jsxDEV("span",{className:m("truncate text-sm",s.status==="new"?"font-bold text-slate-900":"font-medium text-slate-700"),children:s.name},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:258,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:256,columnNumber:21},this),e.jsxDEV("span",{className:"text-[10px] text-gray-400 whitespace-nowrap flex-shrink-0 ml-2",children:h(new Date(s.created_at),"dd MMM",{locale:f})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:262,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:255,columnNumber:19},this),e.jsxDEV("div",{className:m("text-sm mb-1 truncate",s.status==="new"?"font-semibold text-slate-800":"text-slate-600"),children:s.subject},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:267,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-slate-400 line-clamp-2 leading-relaxed",children:s.message},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:271,columnNumber:19},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:246,columnNumber:17},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:244,columnNumber:13},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:233,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:188,columnNumber:7},this),e.jsxDEV("div",{className:m("flex-1 flex flex-col bg-slate-50/30",n?"flex w-full fixed inset-0 md:relative md:w-auto z-20 bg-white md:bg-transparent":"hidden md:flex"),children:a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"h-16 border-b bg-white flex items-center justify-between px-6 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(c,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>o(null),children:e.jsxDEV(K,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:289,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:288,columnNumber:17},this),e.jsxDEV(U,{children:e.jsxDEV(w,{children:[e.jsxDEV(S,{asChild:!0,children:e.jsxDEV(c,{variant:"ghost",size:"icon",onClick:()=>R.mutate(a.id),children:e.jsxDEV(X,{className:"w-4 h-4 text-slate-500 hover:text-red-500 transition-colors"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:296,columnNumber:25},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:295,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:294,columnNumber:21},this),e.jsxDEV(v,{children:"Supprimer"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:293,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:292,columnNumber:17},this),e.jsxDEV(U,{children:e.jsxDEV(w,{children:[e.jsxDEV(S,{asChild:!0,children:e.jsxDEV(c,{variant:"ghost",size:"icon",onClick:()=>g.mutate({id:a.id,status:a.status==="archived"?"read":"archived"}),children:e.jsxDEV(O,{className:m("w-4 h-4 transition-colors",a.status==="archived"?"text-blue-500":"text-slate-500 hover:text-blue-500")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:314,columnNumber:25},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:306,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:305,columnNumber:21},this),e.jsxDEV(v,{children:a.status==="archived"?"Désarchiver":"Archiver"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:317,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:304,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:303,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:287,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsxDEV(W,{className:"w-3 h-3 mr-1.5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:323,columnNumber:17},this),h(new Date(a.created_at),"dd MMM yyyy à HH:mm",{locale:f})]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:322,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:286,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:e.jsxDEV("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-4 border-b pb-4",children:[e.jsxDEV("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 leading-tight",children:a.subject},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:336,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsxDEV(A,{variant:"outline",className:m("uppercase text-[10px] tracking-wider h-6",a.status==="replied"?"border-green-200 text-green-700 bg-green-50":a.status==="new"?"border-blue-200 text-blue-700 bg-blue-50":"border-gray-200 text-gray-600"),children:a.status},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:340,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:339,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:335,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold text-lg border border-slate-200 shadow-sm",children:Q(a.name)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:352,columnNumber:23},this),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[e.jsxDEV("span",{className:"font-bold text-slate-900 text-base",children:a.name},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:357,columnNumber:27},this),e.jsxDEV("span",{className:"text-sm text-slate-500 hidden sm:inline",children:["<",a.email,">"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:358,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:356,columnNumber:25},this),e.jsxDEV("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsxDEV("span",{children:"à"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:361,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium text-slate-700",children:"Support OneSMS"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:362,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:360,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:355,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:351,columnNumber:21},this),e.jsxDEV("div",{className:"hidden sm:flex flex-col items-end text-right",children:[e.jsxDEV("span",{className:"text-sm text-slate-900 font-medium",children:h(new Date(a.created_at),"d MMMM yyyy",{locale:f})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:368,columnNumber:23},this),e.jsxDEV("span",{className:"text-xs text-slate-500",children:h(new Date(a.created_at),"HH:mm",{locale:f})},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:371,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:367,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:350,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:333,columnNumber:17},this),e.jsxDEV("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm min-h-[200px] relative",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-t-xl"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:380,columnNumber:19},this),e.jsxDEV("div",{className:"prose prose-slate max-w-none",children:a.message?e.jsxDEV("p",{className:"text-base leading-relaxed text-slate-700 whitespace-pre-wrap font-normal",children:a.message},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:383,columnNumber:23},this):e.jsxDEV("p",{className:"text-gray-400 italic text-center py-8",children:"(Aucun contenu texte)"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:387,columnNumber:23},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:381,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:379,columnNumber:17},this),z?e.jsxDEV($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-xl overflow-hidden bg-white shadow-sm ring-1 ring-gray-100",children:[e.jsxDEV("div",{className:"bg-gray-50 px-4 py-2 border-b flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:["Réponse à ",a.name]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:402,columnNumber:23},this),e.jsxDEV(c,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>x(!1),children:e.jsxDEV(P,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:404,columnNumber:25},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:403,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:401,columnNumber:21},this),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV(G,{value:b,onChange:s=>E(s.target.value),placeholder:"Écrivez votre réponse...",className:"min-h-[150px] border-0 focus-visible:ring-0 px-0 resize-none text-base",autoFocus:!0},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:408,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[e.jsxDEV("div",{className:"flex gap-2",children:e.jsxDEV(c,{variant:"ghost",size:"icon",className:"text-gray-400",children:e.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:418,columnNumber:29},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:417,columnNumber:27},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:416,columnNumber:25},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(c,{variant:"ghost",onClick:()=>x(!1),children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:422,columnNumber:27},this),e.jsxDEV(c,{className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",onClick:J,disabled:V||!b.trim(),children:[V?e.jsxDEV(j,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:428,columnNumber:42},this):e.jsxDEV(ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:428,columnNumber:89},this),"Envoyer"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:423,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:421,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:415,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:407,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:396,columnNumber:19},this):e.jsxDEV("div",{className:"flex gap-3 pt-6 border-t",children:[e.jsxDEV(c,{onClick:()=>x(!0),className:"bg-slate-900 hover:bg-slate-800 text-white gap-2 px-6",children:[e.jsxDEV(te,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:441,columnNumber:23},this),"Répondre"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:437,columnNumber:21},this),e.jsxDEV(c,{variant:"outline",onClick:()=>g.mutate({id:a.id,status:a.status==="archived"?"read":"archived"}),children:a.status==="archived"?"Désarchiver":"Archiver"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:444,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:436,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:330,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:329,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:284,columnNumber:11},this):e.jsxDEV("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 bg-slate-50/50",children:[e.jsxDEV(se,{className:"w-24 h-24 mb-6 opacity-20"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:457,columnNumber:13},this),e.jsxDEV("p",{className:"text-xl font-medium text-slate-400",children:"Sélectionnez un message pour le lire"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:458,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:456,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:282,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminContactMessages.tsx",lineNumber:186,columnNumber:5},this)}export{le as default};
