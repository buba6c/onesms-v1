import{y as S,r as m,s as i,j as e,a9 as I,p as q,ac as h,av as z,ak as y,aK as $,E as F}from"./index-sAk8NP6L.js";import{S as R}from"./settings-B3dTh6Js.js";import{H as v}from"./history-Be-SjILf.js";import{S as K}from"./save-CTj06xCA.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=S("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=S("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);function Z(){const[E,P]=m.useState([]),[D,V]=m.useState(!0),[d,o]=m.useState(null),[t,k]=m.useState(null),[w,N]=m.useState(!1),[A,b]=m.useState(!1),[x,j]=m.useState([]),[n,p]=m.useState({}),[c,g]=m.useState(null);m.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:s,error:r}=await i.from("payment_providers").select("*").order("priority",{ascending:!0});if(r)throw r;P(s||[])}catch(s){console.error("Error loading providers:",s),l("error","Erreur lors du chargement des fournisseurs")}finally{V(!1)}},M=async s=>{try{const{data:r,error:a}=await i.from("payment_provider_logs").select("*").eq("provider_id",s).order("created_at",{ascending:!1}).limit(20);if(a)throw a;j(r||[]),b(!0)}catch(r){console.error("Error loading logs:",r)}},l=(s,r)=>{g({type:s,text:r}),setTimeout(()=>g(null),5e3)},U=async s=>{var r;o(s.id);try{const a=!s.is_active,{error:f}=await i.from("payment_providers").update({is_active:a}).eq("id",s.id);if(f)throw f;await i.from("payment_provider_logs").insert({provider_id:s.id,admin_id:(r=(await i.auth.getUser()).data.user)==null?void 0:r.id,action:a?"activated":"deactivated",old_value:{is_active:s.is_active},new_value:{is_active:a}}),await u(),l("success",`${s.provider_name} ${a?"activé":"désactivé"}`)}catch(a){console.error("Error toggling provider:",a),l("error","Erreur lors de la modification")}finally{o(null)}},O=async s=>{var r;o(s.id);try{await i.from("payment_providers").update({is_default:!1}).neq("id",s.id);const{error:a}=await i.from("payment_providers").update({is_default:!0,is_active:!0}).eq("id",s.id);if(a)throw a;await i.from("payment_provider_logs").insert({provider_id:s.id,admin_id:(r=(await i.auth.getUser()).data.user)==null?void 0:r.id,action:"set_default",old_value:{is_default:s.is_default},new_value:{is_default:!0}}),await u(),l("success",`${s.provider_name} défini comme fournisseur par défaut`)}catch(a){console.error("Error setting default:",a),l("error","Erreur lors de la modification")}finally{o(null)}},_=s=>{k(s),p(s.config||{}),N(!0)},C=async()=>{var s;if(t){o(t.id);try{const{error:r}=await i.from("payment_providers").update({config:n}).eq("id",t.id);if(r)throw r;await i.from("payment_provider_logs").insert({provider_id:t.id,admin_id:(s=(await i.auth.getUser()).data.user)==null?void 0:s.id,action:"updated_config",old_value:t.config,new_value:n}),await u(),N(!1),l("success","Configuration sauvegardée")}catch(r){console.error("Error saving config:",r),l("error","Erreur lors de la sauvegarde")}finally{o(null)}}},L=s=>({paydunya:[{key:"master_key",label:"Master Key",type:"password",placeholder:"wQzk9ZwR-Qq9m-..."},{key:"private_key",label:"Private Key",type:"password",placeholder:"test_private_..."},{key:"token",label:"Token",type:"password",placeholder:"IivOiOxGJuWhc5znlIiK"},{key:"mode",label:"Mode",type:"select",placeholder:"test|live"},{key:"callback_url",label:"Callback URL",type:"text",placeholder:"https://..."}],moneyfusion:[{key:"api_key",label:"API Key",type:"password",placeholder:"mf_..."},{key:"api_secret",label:"API Secret",type:"password",placeholder:"..."},{key:"merchant_id",label:"Merchant ID",type:"text",placeholder:"MF123456"},{key:"webhook_url",label:"Webhook URL",type:"text",placeholder:"https://..."}],paytech:[{key:"api_key",label:"API Key",type:"password",placeholder:"pt_..."},{key:"api_secret",label:"API Secret",type:"password",placeholder:"..."},{key:"env",label:"Environment",type:"select",placeholder:"test|prod"}]})[s]||[];return D?e.jsxDEV("div",{className:"flex items-center justify-center h-64",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:228,columnNumber:9},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:227,columnNumber:7},this):e.jsxDEV("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsxDEV(I,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:238,columnNumber:11},this),"Fournisseurs de Paiement"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:237,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Gérez les passerelles de paiement disponibles pour vos utilisateurs"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:241,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:236,columnNumber:7},this),c&&e.jsxDEV("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${c.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[c.type==="success"?e.jsxDEV(q,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:254,columnNumber:13},this):e.jsxDEV(h,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:256,columnNumber:13},this),e.jsxDEV("span",{children:c.text},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:258,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:248,columnNumber:9},this),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:E.map(s=>e.jsxDEV("div",{className:`bg-white rounded-xl shadow-sm border-2 p-6 transition-all ${s.is_active?"border-green-500 shadow-green-100":"border-gray-200 opacity-75"}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[s.logo_url?e.jsxDEV("img",{src:s.logo_url,alt:s.provider_name,className:"w-12 h-12 rounded-lg object-contain bg-gray-50 p-2"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:277,columnNumber:19},this):e.jsxDEV("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsxDEV(z,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:284,columnNumber:21},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:283,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-900 flex items-center gap-2",children:[s.provider_name,s.is_default&&e.jsxDEV(y,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:291,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:288,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:s.provider_code},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:294,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:287,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:275,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>U(s),disabled:d===s.id,className:`p-2 rounded-lg transition-colors ${s.is_active?"bg-green-100 hover:bg-green-200 text-green-700":"bg-gray-100 hover:bg-gray-200 text-gray-500"}`,children:d===s.id?e.jsxDEV("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-current border-t-transparent"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:309,columnNumber:19},this):s.is_active?e.jsxDEV(H,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:311,columnNumber:19},this):e.jsxDEV(T,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:313,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:299,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:274,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.description||"Aucune description disponible"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:319,columnNumber:13},this),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Moyens de paiement supportés:"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:325,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[s.supported_methods.slice(0,4).map(r=>e.jsxDEV("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:r.replace(/-/g," ").substring(0,10)},r,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:330,columnNumber:19},this)),s.supported_methods.length>4&&e.jsxDEV("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",s.supported_methods.length-4]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:338,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:328,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:324,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 mb-4 p-2 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${s.is_active?"bg-green-500":"bg-gray-400"}`},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:347,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:s.is_active?"Actif":"Inactif"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:350,columnNumber:15},this),s.is_default&&e.jsxDEV("span",{className:"ml-auto text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Par défaut"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:354,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:346,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>_(s),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsxDEV(R,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:366,columnNumber:17},this),"Configurer"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:362,columnNumber:15},this),!s.is_default&&s.is_active&&e.jsxDEV("button",{onClick:()=>O(s),disabled:d===s.id,className:"px-3 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors text-sm",title:"Définir comme défaut",children:e.jsxDEV(y,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:377,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:371,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>M(s.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",title:"Voir l'historique",children:e.jsxDEV(v,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:386,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:381,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:361,columnNumber:13},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:265,columnNumber:11},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:263,columnNumber:7},this),w&&t&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:["Configuration ",t.provider_name]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:398,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:"Configurez les clés API et paramètres du fournisseur"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:397,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 space-y-4",children:[L(t.provider_code).map(s=>e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.label},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:409,columnNumber:19},this),s.type==="select"?e.jsxDEV("select",{value:n[s.key]||"",onChange:r=>p({...n,[s.key]:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:"Sélectionner..."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:418,columnNumber:23},this),s.placeholder.split("|").map(r=>e.jsxDEV("option",{value:r,children:r},r,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:420,columnNumber:25},this))]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:413,columnNumber:21},this):e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:s.type,value:n[s.key]||"",onChange:r=>p({...n,[s.key]:r.target.value}),placeholder:s.placeholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:425,columnNumber:23},this),s.type==="password"&&e.jsxDEV("button",{type:"button",onClick:()=>{const r=document.querySelector(`input[placeholder="${s.placeholder}"]`);r&&(r.type=r.type==="password"?"text":"password")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n[s.key]?e.jsxDEV($,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:443,columnNumber:52},this):e.jsxDEV(F,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:443,columnNumber:85},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:433,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:424,columnNumber:21},this)]},s.key,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:408,columnNumber:17},this)),e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(h,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:453,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-yellow-800",children:[e.jsxDEV("p",{className:"font-medium mb-1",children:"⚠️ Attention"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:455,columnNumber:21},this),e.jsxDEV("p",{children:"Les clés API sont sensibles. Ne les partagez jamais et stockez-les de manière sécurisée."},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:456,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:454,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:452,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:451,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:406,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 flex gap-3 sticky bottom-0 bg-white",children:[e.jsxDEV("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:463,columnNumber:15},this),e.jsxDEV("button",{onClick:C,disabled:d===t.id,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:d===t.id?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:476,columnNumber:21},this),"Enregistrement..."]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:475,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(K,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:481,columnNumber:21},this),"Enregistrer"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:480,columnNumber:19},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:469,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:462,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:396,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:395,columnNumber:9},this),A&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white",children:e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsxDEV(v,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:497,columnNumber:17},this),"Historique des modifications"]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:496,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:495,columnNumber:13},this),e.jsxDEV("div",{className:"p-6",children:x.length===0?e.jsxDEV("p",{className:"text-center text-gray-500 py-8",children:"Aucune modification enregistrée"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:504,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-3",children:x.map(s=>e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"font-medium text-gray-900 capitalize",children:s.action.replace(/_/g," ")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:510,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleString("fr-FR")},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:513,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:509,columnNumber:23},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:e.jsxDEV("pre",{className:"text-xs bg-white p-2 rounded border border-gray-200 overflow-x-auto",children:JSON.stringify({old:s.old_value,new:s.new_value},null,2)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:518,columnNumber:25},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:517,columnNumber:23},this)]},s.id,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:508,columnNumber:21},this))},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:506,columnNumber:17},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:502,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 sticky bottom-0 bg-white",children:e.jsxDEV("button",{onClick:()=>b(!1),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Fermer"},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:529,columnNumber:15},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:528,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:494,columnNumber:11},this)},void 0,!1,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:493,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/mac/Desktop/ONE SMS V1/src/pages/admin/AdminPaymentProviders.tsx",lineNumber:234,columnNumber:5},this)}export{Z as default};
